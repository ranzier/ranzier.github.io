

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/about/dogs.jpg">
  <link rel="icon" href="/img/about/dogs.jpg">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="ranzier">
  <meta name="keywords" content="">
  
    <meta name="description" content="MySQLÂéüÁêÜÂ≠¶‰π†Á¨îËÆ∞   1. ‰∫ãÂä°1.1 ‰∫ãÂä°ÁÆÄ‰ªã‰∫ãÂä° ÊòØ‰∏ÄÁªÑÊìç‰ΩúÁöÑÈõÜÂêàÔºåÂÆÉÊòØ‰∏Ä‰∏™‰∏çÂèØÂàÜÂâ≤ÁöÑÂ∑•‰ΩúÂçï‰ΩçÔºå‰∫ãÂä°‰ºöÊääÊâÄÊúâÁöÑÊìç‰Ωú‰Ωú‰∏∫‰∏Ä‰∏™Êï¥‰Ωì‰∏ÄËµ∑ÂêëÁ≥ªÁªüÊèê‰∫§ÊàñÊí§ÈîÄÊìç‰ΩúËØ∑Ê±ÇÔºåÂç≥Ëøô‰∫õÊìç‰ΩúË¶Å‰πàÂêåÊó∂ÊàêÂäüÔºåË¶Å‰πàÂêåÊó∂Â§±Ë¥•  1.2 ‰∫ãÂä°ÁöÑÂõõÂ§ßÁâπÊÄß ÂéüÂ≠êÊÄßÔºàAtomicityÔºâÔºö‰∫ãÂä°ÊòØ‰∏çÂèØÂàÜÂâ≤ÁöÑÊúÄÂ∞èÊìç‰ΩúÂçïÂÖÉÔºåË¶Å‰πàÂÖ®ÈÉ®ÊàêÂäüÔºåË¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•„ÄÇ ‰∏ÄËá¥ÊÄßÔºàConsistencyÔºâÔºö‰∫ãÂä°ÂÆåÊàêÊó∂ÔºåÂøÖÈ°ª‰ΩøÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩ‰øùÊåÅ‰∏ÄËá¥Áä∂ÊÄÅ„ÄÇ">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQLÂéüÁêÜÂ≠¶‰π†Á¨îËÆ∞">
<meta property="og:url" content="http://example.com/2025/04/18/JAVA/mysql/index.html">
<meta property="og:site_name" content="RANZIER">
<meta property="og:description" content="MySQLÂéüÁêÜÂ≠¶‰π†Á¨îËÆ∞   1. ‰∫ãÂä°1.1 ‰∫ãÂä°ÁÆÄ‰ªã‰∫ãÂä° ÊòØ‰∏ÄÁªÑÊìç‰ΩúÁöÑÈõÜÂêàÔºåÂÆÉÊòØ‰∏Ä‰∏™‰∏çÂèØÂàÜÂâ≤ÁöÑÂ∑•‰ΩúÂçï‰ΩçÔºå‰∫ãÂä°‰ºöÊääÊâÄÊúâÁöÑÊìç‰Ωú‰Ωú‰∏∫‰∏Ä‰∏™Êï¥‰Ωì‰∏ÄËµ∑ÂêëÁ≥ªÁªüÊèê‰∫§ÊàñÊí§ÈîÄÊìç‰ΩúËØ∑Ê±ÇÔºåÂç≥Ëøô‰∫õÊìç‰ΩúË¶Å‰πàÂêåÊó∂ÊàêÂäüÔºåË¶Å‰πàÂêåÊó∂Â§±Ë¥•  1.2 ‰∫ãÂä°ÁöÑÂõõÂ§ßÁâπÊÄß ÂéüÂ≠êÊÄßÔºàAtomicityÔºâÔºö‰∫ãÂä°ÊòØ‰∏çÂèØÂàÜÂâ≤ÁöÑÊúÄÂ∞èÊìç‰ΩúÂçïÂÖÉÔºåË¶Å‰πàÂÖ®ÈÉ®ÊàêÂäüÔºåË¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•„ÄÇ ‰∏ÄËá¥ÊÄßÔºàConsistencyÔºâÔºö‰∫ãÂä°ÂÆåÊàêÊó∂ÔºåÂøÖÈ°ª‰ΩøÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩ‰øùÊåÅ‰∏ÄËá¥Áä∂ÊÄÅ„ÄÇ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/bg/34.jpg">
<meta property="article:published_time" content="2025-04-18T10:14:24.000Z">
<meta property="article:modified_time" content="2025-10-14T06:59:56.833Z">
<meta property="article:author" content="ranzier">
<meta property="article:tag" content="JAVA">
<meta property="article:tag" content="MySQL">
<meta property="article:tag" content="Â≠¶‰π†">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/img/bg/34.jpg">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>MySQLÂéüÁêÜÂ≠¶‰π†Á¨îËÆ∞ - RANZIER</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ‰∏ªÈ¢ò‰æùËµñÁöÑÂõæÊ†áÂ∫ìÔºå‰∏çË¶ÅËá™Ë°å‰øÆÊîπ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="//at.alicdn.com/t/c/font_3846514_kabxni94auf.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/shubiao.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/gundongtiao.css">
<link rel="stylesheet" href="/css/bubble.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"üåü","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.0.0"></head>


<body><!-- hexo injector body_begin start --><div id="web_bg"></div><!-- hexo injector body_begin end -->
  

  <header>
    

<div class="header-inner" style="height: 80vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>RANZIER</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>È¶ñÈ°µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>ÂΩíÊ°£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>ÂàÜÁ±ª</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>Ê†áÁ≠æ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>ÂÖ≥‰∫é</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/bg/3.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.35)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="MySQLÂéüÁêÜÂ≠¶‰π†Á¨îËÆ∞"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-04-18 18:14" pubdate>
          2025Âπ¥4Êúà18Êó• Êôö‰∏ä
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          9.3k Â≠ó
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          47 ÂàÜÈíü
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          Êú¨ÊñáÈòÖËØªÊ¨°Êï∞Ôºö<span id="busuanzi_value_page_pv"></span> Ê¨°
        </span>
        

      
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">MySQLÂéüÁêÜÂ≠¶‰π†Á¨îËÆ∞</h1>
            
            
              <div class="markdown-body">
                
                <h1 align="center">MySQLÂéüÁêÜÂ≠¶‰π†Á¨îËÆ∞</h1>


<h1 id="1-‰∫ãÂä°"><a href="#1-‰∫ãÂä°" class="headerlink" title="1. ‰∫ãÂä°"></a>1. ‰∫ãÂä°</h1><h2 id="1-1-‰∫ãÂä°ÁÆÄ‰ªã"><a href="#1-1-‰∫ãÂä°ÁÆÄ‰ªã" class="headerlink" title="1.1 ‰∫ãÂä°ÁÆÄ‰ªã"></a>1.1 ‰∫ãÂä°ÁÆÄ‰ªã</h2><p><strong>‰∫ãÂä°</strong> ÊòØ‰∏ÄÁªÑÊìç‰ΩúÁöÑÈõÜÂêàÔºåÂÆÉÊòØ‰∏Ä‰∏™‰∏çÂèØÂàÜÂâ≤ÁöÑÂ∑•‰ΩúÂçï‰ΩçÔºå‰∫ãÂä°‰ºöÊääÊâÄÊúâÁöÑÊìç‰Ωú‰Ωú‰∏∫‰∏Ä‰∏™Êï¥‰Ωì‰∏ÄËµ∑ÂêëÁ≥ª<br>ÁªüÊèê‰∫§ÊàñÊí§ÈîÄÊìç‰ΩúËØ∑Ê±ÇÔºåÂç≥Ëøô‰∫õÊìç‰Ωú<strong>Ë¶Å‰πàÂêåÊó∂ÊàêÂäüÔºåË¶Å‰πàÂêåÊó∂Â§±Ë¥•</strong></p>
<p><img src="/img/blogs/java/mysql/1.1.1.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="1-2-‰∫ãÂä°ÁöÑÂõõÂ§ßÁâπÊÄß"><a href="#1-2-‰∫ãÂä°ÁöÑÂõõÂ§ßÁâπÊÄß" class="headerlink" title="1.2 ‰∫ãÂä°ÁöÑÂõõÂ§ßÁâπÊÄß"></a>1.2 ‰∫ãÂä°ÁöÑÂõõÂ§ßÁâπÊÄß</h2><ul>
<li>ÂéüÂ≠êÊÄßÔºàAtomicityÔºâÔºö‰∫ãÂä°ÊòØ‰∏çÂèØÂàÜÂâ≤ÁöÑÊúÄÂ∞èÊìç‰ΩúÂçïÂÖÉÔºåË¶Å‰πàÂÖ®ÈÉ®ÊàêÂäüÔºåË¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•„ÄÇ</li>
<li>‰∏ÄËá¥ÊÄßÔºàConsistencyÔºâÔºö‰∫ãÂä°ÂÆåÊàêÊó∂ÔºåÂøÖÈ°ª‰ΩøÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩ‰øùÊåÅ‰∏ÄËá¥Áä∂ÊÄÅ„ÄÇ</li>
<li>ÈöîÁ¶ªÊÄßÔºàIsolationÔºâÔºöÊï∞ÊçÆÂ∫ìÁ≥ªÁªüÊèê‰æõÁöÑÈöîÁ¶ªÊú∫Âà∂Ôºå‰øùËØÅ‰∫ãÂä°Âú®‰∏çÂèóÂ§ñÈÉ®Âπ∂ÂèëÊìç‰ΩúÂΩ±ÂìçÁöÑÁã¨Á´ãÁéØÂ¢É‰∏ãËøêË°å„ÄÇ</li>
<li>ÊåÅ‰πÖÊÄßÔºàDurabilityÔºâÔºö‰∫ãÂä°‰∏ÄÊó¶Êèê‰∫§ÊàñÂõûÊªöÔºåÂÆÉÂØπÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÁöÑÊîπÂèòÂ∞±ÊòØÊ∞∏‰πÖÁöÑ</li>
</ul>
<p><strong>ACID</strong></p>
<h2 id="1-3-Âπ∂Âèë‰∫ãÂä°ÈóÆÈ¢ò"><a href="#1-3-Âπ∂Âèë‰∫ãÂä°ÈóÆÈ¢ò" class="headerlink" title="1.3 Âπ∂Âèë‰∫ãÂä°ÈóÆÈ¢ò"></a>1.3 Âπ∂Âèë‰∫ãÂä°ÈóÆÈ¢ò</h2><p><strong>‰∫ãÂä°Âπ∂ÂèëÈóÆÈ¢ò</strong></p>
<table>
<thead>
<tr>
<th>ÈóÆÈ¢ò</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody><tr>
<td>ËÑèËØª</td>
<td>‰∏Ä‰∏™‰∫ãÂä°ËØªÂà∞Âè¶Â§ñ‰∏Ä‰∏™‰∫ãÂä°ËøòÊ≤°ÊúâÊèê‰∫§ÁöÑÊï∞ÊçÆ„ÄÇ</td>
</tr>
<tr>
<td>‰∏çÂèØÈáçÂ§çËØª</td>
<td>‰∏Ä‰∏™‰∫ãÂä°ÂÖàÂêéËØªÂèñÂêå‰∏ÄÊù°ËÆ∞ÂΩïÔºå‰ΩÜ‰∏§Ê¨°ËØªÂèñÁöÑÊï∞ÊçÆ‰∏çÂêåÔºåÁß∞‰πã‰∏∫‰∏çÂèØÈáçÂ§çËØª„ÄÇ</td>
</tr>
<tr>
<td>ÂπªËØª</td>
<td>‰∏Ä‰∏™‰∫ãÂä°ÊåâÁÖßÊù°‰ª∂Êü•ËØ¢Êï∞ÊçÆÊó∂ÔºåÊ≤°ÊúâÂØπÂ∫îÁöÑÊï∞ÊçÆË°åÔºå‰ΩÜÊòØÂú®ÊèíÂÖ•Êï∞ÊçÆÊó∂ÔºåÂèàÂèëÁé∞ËØ•Ë°åÊï∞ÊçÆÂ∑≤ÁªèÂ≠òÂú®ÔºåÂ•ΩÂÉèÂá∫Áé∞‰∫Ü‚ÄúÂπªÂΩ±‚Äù„ÄÇ</td>
</tr>
</tbody></table>
<p><strong>‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´</strong></p>
<table>
<thead>
<tr>
<th>ÈöîÁ¶ªÁ∫ßÂà´</th>
<th>ËµÉËØª</th>
<th>‰∏çÂèØÈáçÂ§çËØª</th>
<th>ÂπªËØª</th>
</tr>
</thead>
<tbody><tr>
<td>Read uncommitted</td>
<td>‚àö</td>
<td>‚àö</td>
<td>‚àö</td>
</tr>
<tr>
<td>Read committed</td>
<td>√ó</td>
<td>‚àö</td>
<td>‚àö</td>
</tr>
<tr>
<td>Repeatable Read(ÈªòËÆ§)</td>
<td>√ó</td>
<td>√ó</td>
<td>‚àö</td>
</tr>
<tr>
<td>Serializable</td>
<td>√ó</td>
<td>√ó</td>
<td>√ó</td>
</tr>
</tbody></table>
<ul>
<li>‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´Ë∂äÈ´òÔºåÊï∞ÊçÆË∂äÂÆâÂÖ®Ôºå‰ΩÜÊòØÊÄßËÉΩË∂äÂ∑Æ</li>
</ul>
<h1 id="2-Â≠òÂÇ®ÂºïÊìé"><a href="#2-Â≠òÂÇ®ÂºïÊìé" class="headerlink" title="2. Â≠òÂÇ®ÂºïÊìé"></a>2. Â≠òÂÇ®ÂºïÊìé</h1><h2 id="2-1-MySQL‰ΩìÁ≥ªÁªìÊûÑ"><a href="#2-1-MySQL‰ΩìÁ≥ªÁªìÊûÑ" class="headerlink" title="2.1 MySQL‰ΩìÁ≥ªÁªìÊûÑ"></a>2.1 MySQL‰ΩìÁ≥ªÁªìÊûÑ</h2><p><img src="/img/blogs/java/mysql/2.1.1.png" srcset="/img/loading.gif" lazyload></p>
<ol>
<li><strong>ËøûÊé•Â±Ç</strong><br>ÊúÄ‰∏äÂ±ÇÊòØ‰∏Ä‰∫õÂÆ¢Êà∑Á´ØÂíåÈìæÊé•ÊúçÂä°ÔºåÂåÖÂê´Êú¨Âú∞sock ÈÄö‰ø°ÂíåÂ§ßÂ§öÊï∞Âü∫‰∫éÂÆ¢Êà∑Á´Ø&#x2F;ÊúçÂä°Á´ØÂ∑•ÂÖ∑ÂÆûÁé∞ÁöÑÁ±ª‰ºº‰∫é TCP&#x2F;IPÁöÑÈÄö‰ø°„ÄÇ‰∏ªË¶ÅÂÆåÊàê‰∏Ä‰∫õÁ±ª‰ºº‰∫é<strong>ËøûÊé•Â§ÑÁêÜ„ÄÅÊéàÊùÉËÆ§ËØÅ</strong>„ÄÅÂèäÁõ∏ÂÖ≥ÁöÑÂÆâÂÖ®ÊñπÊ°à„ÄÇÂú®ËØ•Â±Ç‰∏äÂºïÂÖ•‰∫ÜÁ∫øÁ®ãÊ±†ÁöÑÊ¶ÇÂøµÔºå‰∏∫ÈÄöËøáËÆ§ËØÅÂÆâÂÖ®Êé•ÂÖ•ÁöÑÂÆ¢Êà∑Á´ØÊèê‰æõÁ∫øÁ®ã„ÄÇÂêåÊ†∑Âú®ËØ•Â±Ç‰∏äÂèØ‰ª•ÂÆûÁé∞Âü∫‰∫éSSLÁöÑÂÆâÂÖ®ÈìæÊé•„ÄÇÊúçÂä°Âô®‰πü‰ºö‰∏∫ÂÆâÂÖ®Êé•ÂÖ•ÁöÑÊØè‰∏™ÂÆ¢Êà∑Á´ØÈ™åËØÅÂÆÉÊâÄÂÖ∑ÊúâÁöÑÊìç‰ΩúÊùÉÈôê„ÄÇ</li>
<li><strong>ÊúçÂä°Â±Ç</strong><br>Á¨¨‰∫åÂ±ÇÊû∂ÊûÑ‰∏ªË¶ÅÂÆåÊàêÂ§ßÂ§öÊï∞ÁöÑÊ†∏ÂøÉÊúçÂä°ÂäüËÉΩÔºåÂ¶ÇSQLÊé•Âè£ÔºåÂπ∂ÂÆåÊàê<strong>ÁºìÂ≠òÁöÑÊü•ËØ¢</strong>Ôºå<strong>SQLÁöÑÂàÜÊûêÂíå‰ºòÂåñ</strong>ÔºåÈÉ®ÂàÜÂÜÖÁΩÆÂáΩÊï∞ÁöÑÊâßË°å„ÄÇÊâÄÊúâË∑®Â≠òÂÇ®ÂºïÊìéÁöÑÂäüËÉΩ‰πüÂú®Ëøô‰∏ÄÂ±ÇÂÆûÁé∞ÔºåÂ¶Ç ËøáÁ®ã„ÄÅÂáΩÊï∞Á≠â„ÄÇÂú®ËØ•Â±ÇÔºåÊúçÂä°Âô®‰ºöËß£ÊûêÊü•ËØ¢Âπ∂ÂàõÂª∫Áõ∏Â∫îÁöÑÂÜÖÈÉ®Ëß£ÊûêÊ†ëÔºåÂπ∂ÂØπÂÖ∂ÂÆåÊàêÁõ∏Â∫îÁöÑ‰ºòÂåñÂ¶ÇÁ°ÆÂÆöË°®ÁöÑÊü•ËØ¢ÁöÑÈ°∫Â∫èÔºåÊòØÂê¶Âà©Áî®Á¥¢ÂºïÁ≠âÔºå ÊúÄÂêéÁîüÊàêÁõ∏Â∫îÁöÑÊâßË°åÊìç‰Ωú„ÄÇÂ¶ÇÊûúÊòØselectËØ≠Âè•ÔºåÊúçÂä°Âô®Ëøò‰ºöÊü•ËØ¢ÂÜÖÈÉ®ÁöÑÁºìÂ≠òÔºåÂ¶ÇÊûúÁºìÂ≠òÁ©∫Èó¥Ë∂≥Â§üÂ§ßÔºåËøôÊ†∑Âú®Ëß£ÂÜ≥Â§ßÈáèËØªÊìç‰ΩúÁöÑÁéØÂ¢É‰∏≠ËÉΩÂ§üÂæàÂ•ΩÁöÑÊèêÂçáÁ≥ªÁªüÁöÑÊÄßËÉΩ„ÄÇ</li>
<li><strong>ÂºïÊìéÂ±Ç</strong><br>Â≠òÂÇ®ÂºïÊìéÂ±ÇÔºå Â≠òÂÇ®ÂºïÊìéÁúüÊ≠£ÁöÑ<strong>Ë¥üË¥£‰∫ÜMySQL‰∏≠Êï∞ÊçÆÁöÑÂ≠òÂÇ®ÂíåÊèêÂèñ</strong>ÔºåÊúçÂä°Âô®ÈÄöËøáAPIÂíåÂ≠òÂÇ®ÂºïÊìéËøõË°åÈÄö‰ø°„ÄÇ‰∏çÂêåÁöÑÂ≠òÂÇ®ÂºïÊìéÂÖ∑Êúâ‰∏çÂêåÁöÑÂäüËÉΩÔºåËøôÊ†∑Êàë‰ª¨ÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÈúÄË¶ÅÔºåÊù•ÈÄâÂèñÂêàÈÄÇÁöÑÂ≠òÂÇ®ÂºïÊìé„ÄÇÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÁ¥¢ÂºïÊòØÂú®Â≠òÂÇ®ÂºïÊìéÂ±ÇÂÆûÁé∞ÁöÑ„ÄÇ</li>
<li><strong>Â≠òÂÇ®Â±Ç</strong><br>Êï∞ÊçÆÂ≠òÂÇ®Â±ÇÔºå ‰∏ªË¶ÅÊòØÂ∞ÜÊï∞ÊçÆ(Â¶Ç: redolog„ÄÅundolog„ÄÅÊï∞ÊçÆ„ÄÅÁ¥¢Âºï„ÄÅ‰∫åËøõÂà∂Êó•Âøó„ÄÅÈîôËØØÊó•Âøó„ÄÅÊü•ËØ¢<br>Êó•Âøó„ÄÅÊÖ¢Êü•ËØ¢Êó•ÂøóÁ≠â)<strong>Â≠òÂÇ®Âú®Êñá‰ª∂Á≥ªÁªü‰πã‰∏ä</strong>ÔºåÂπ∂<strong>ÂÆåÊàê‰∏éÂ≠òÂÇ®ÂºïÊìéÁöÑ‰∫§‰∫í</strong></li>
</ol>
<h2 id="2-2-Â≠òÂÇ®ÂºïÊìé‰ªãÁªç"><a href="#2-2-Â≠òÂÇ®ÂºïÊìé‰ªãÁªç" class="headerlink" title="2.2 Â≠òÂÇ®ÂºïÊìé‰ªãÁªç"></a>2.2 Â≠òÂÇ®ÂºïÊìé‰ªãÁªç</h2><p>Â≠òÂÇ®ÂºïÊìéÂ∞±ÊòØ<strong>Â≠òÂÇ®Êï∞ÊçÆ„ÄÅÂª∫Á´ãÁ¥¢Âºï„ÄÅÊõ¥Êñ∞&#x2F;Êü•ËØ¢Êï∞ÊçÆ</strong>Á≠âÊäÄÊúØÁöÑÂÆûÁé∞ÊñπÂºè „ÄÇ<strong>Â≠òÂÇ®ÂºïÊìéÊòØÂü∫‰∫éË°®ÁöÑ</strong>ÔºåËÄå‰∏çÊòØÂü∫‰∫éÂ∫ìÁöÑÔºåÊâÄ‰ª•Â≠òÂÇ®ÂºïÊìé‰πüÂèØË¢´Áß∞‰∏∫Ë°®Á±ªÂûã„ÄÇ</p>
<h2 id="2-3-InnoDBÂ≠òÂÇ®ÂºïÊìéÁâπÁÇπ"><a href="#2-3-InnoDBÂ≠òÂÇ®ÂºïÊìéÁâπÁÇπ" class="headerlink" title="2.3 InnoDBÂ≠òÂÇ®ÂºïÊìéÁâπÁÇπ"></a>2.3 InnoDBÂ≠òÂÇ®ÂºïÊìéÁâπÁÇπ</h2><p>InnoDBÊòØ‰∏ÄÁßçÂÖºÈ°æÈ´òÂèØÈù†ÊÄßÂíåÈ´òÊÄßËÉΩÁöÑÈÄöÁî®Â≠òÂÇ®ÂºïÊìéÔºåÂú® MySQL 5.5 ‰πãÂêéÔºåInnoDBÊòØÈªòËÆ§ÁöÑ MySQL Â≠òÂÇ®ÂºïÊìé„ÄÇ</p>
<p><strong>ÁâπÁÇπ</strong></p>
<ul>
<li>DMLÊìç‰ΩúÈÅµÂæ™ACIDÊ®°ÂûãÔºå<strong>ÊîØÊåÅ‰∫ãÂä°</strong>ÔºõËÉΩ<strong>‰øùËØÅ‰∫ãÂä°ÂÆâÂÖ®</strong></li>
<li><strong>Ë°åÁ∫ßÈîÅ</strong>ÔºåÊèêÈ´òÂπ∂ÂèëËÆøÈóÆÊÄßËÉΩÔºõ</li>
<li><strong>ÊîØÊåÅÂ§ñÈîÆ</strong>FOREIGN KEYÁ∫¶ÊùüÔºå<strong>‰øùËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßÂíåÊ≠£Á°ÆÊÄß</strong>Ôºõ</li>
</ul>
<p><strong>Êñá‰ª∂</strong></p>
<ul>
<li><code>xxx.ibd</code>Ôºöxxx‰ª£Ë°®ÁöÑÊòØË°®ÂêçÔºåinnoDBÂºïÊìéÁöÑÊØèÂº†Ë°®ÈÉΩ‰ºöÂØπÂ∫îËøôÊ†∑‰∏Ä‰∏™Ë°®Á©∫Èó¥Êñá‰ª∂ÔºåÂ≠òÂÇ®ËØ•Ë°®ÁöÑË°®Áªì<br>ÊûÑÔºàfrm-Êó©ÊúüÁöÑ „ÄÅsdi-Êñ∞ÁâàÁöÑÔºâ„ÄÅÊï∞ÊçÆÂíåÁ¥¢Âºï</li>
</ul>
<p><strong>ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ:</strong></p>
<p><img src="/img/blogs/java/mysql/2.3.1.png" srcset="/img/loading.gif" lazyload></p>
<p>InnoDBÂºïÊìé‰∏éMyISAMÂºïÊìéÁöÑÂå∫Âà´ ?</p>
<ul>
<li>InnoDBÂºïÊìé, <strong>ÊîØÊåÅ‰∫ãÂä°</strong>, ËÄåMyISAM‰∏çÊîØÊåÅ„ÄÇ</li>
<li>InnoDBÂºïÊìé, <strong>ÊîØÊåÅË°åÈîÅÂíåË°®ÈîÅ</strong>, ËÄåMyISAM‰ªÖÊîØÊåÅË°®ÈîÅ, ‰∏çÊîØÊåÅË°åÈîÅ„ÄÇ</li>
<li>InnoDBÂºïÊìé, <strong>ÊîØÊåÅÂ§ñÈîÆ</strong>, ËÄåMyISAMÊòØ‰∏çÊîØÊåÅÁöÑ</li>
</ul>
<h1 id="3-Á¥¢Âºï"><a href="#3-Á¥¢Âºï" class="headerlink" title="3. Á¥¢Âºï"></a>3. Á¥¢Âºï</h1><h2 id="3-1-Á¥¢ÂºïÊ¶ÇËø∞"><a href="#3-1-Á¥¢ÂºïÊ¶ÇËø∞" class="headerlink" title="3.1 Á¥¢ÂºïÊ¶ÇËø∞"></a>3.1 Á¥¢ÂºïÊ¶ÇËø∞</h2><p>Á¥¢ÂºïÔºàindexÔºâÊòØÂ∏ÆÂä©MySQL<strong>È´òÊïàËé∑ÂèñÊï∞ÊçÆÁöÑÊï∞ÊçÆÁªìÊûÑ</strong>(ÊúâÂ∫è)„ÄÇÂú®Êï∞ÊçÆ‰πãÂ§ñÔºåÊï∞ÊçÆÂ∫ìÁ≥ªÁªüËøòÁª¥Êä§ÁùÄÊª°Ë∂≥ÁâπÂÆöÊü•ÊâæÁÆóÊ≥ïÁöÑÊï∞ÊçÆÁªìÊûÑÔºåËøô‰∫õÊï∞ÊçÆÁªìÊûÑ‰ª•ÊüêÁßçÊñπÂºèÂºïÁî®ÔºàÊåáÂêëÔºâÊï∞ÊçÆÔºå ËøôÊ†∑Â∞±ÂèØ‰ª•Âú®Ëøô‰∫õÊï∞ÊçÆÁªìÊûÑ‰∏äÂÆûÁé∞È´òÁ∫ßÊü•ÊâæÁÆóÊ≥ïÔºåËøôÁßçÊï∞ÊçÆÁªìÊûÑÂ∞±ÊòØÁ¥¢Âºï„ÄÇ</p>
<ul>
<li>Êó†Á¥¢ÂºïÁöÑÊÉÖÂÜµÔºöÂÖ®Ë°®Êâ´Êèè</li>
<li>ÊúâÁ¥¢ÂºïÔºöÊ†πÊçÆÁ¥¢Âºï‰æùÊ¨°Êü•ËØ¢ÔºåÊèêÈ´òÊïàÁéá</li>
</ul>
<table>
<thead>
<tr>
<th>Á±ªÂûã</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody><tr>
<td><strong>‰ºòÂäø</strong></td>
<td>ÊèêÈ´òÊï∞ÊçÆÊ£ÄÁ¥¢ÁöÑÊïàÁéáÔºåÈôç‰ΩéÊï∞ÊçÆÂ∫ìÁöÑIOÊàêÊú¨„ÄÇ</td>
</tr>
<tr>
<td></td>
<td>ÈÄöËøáÁ¥¢ÂºïÂØπÊï∞ÊçÆËøõË°åÊéíÂ∫èÔºåÈôç‰ΩéÊï∞ÊçÆÊéíÂ∫èÁöÑÊàêÊú¨ÔºåÂáèÂ∞ëCPUÁöÑÊ∂àËÄó„ÄÇ</td>
</tr>
<tr>
<td><strong>Âä£Âäø</strong></td>
<td>Á¥¢ÂºïÂàó‰ºöÂç†Áî®È¢ùÂ§ñÁöÑÂ≠òÂÇ®Á©∫Èó¥„ÄÇ</td>
</tr>
<tr>
<td></td>
<td>ËôΩÁÑ∂Á¥¢ÂºïÊèêÈ´ò‰∫ÜÊü•ËØ¢ÊïàÁéáÔºå‰ΩÜ‰ºöÈôç‰ΩéÊõ¥Êñ∞Ë°®ÁöÑÈÄüÂ∫¶ÔºàÂ¶ÇINSERT„ÄÅUPDATE„ÄÅDELETEÊìç‰ΩúÔºâ„ÄÇ</td>
</tr>
</tbody></table>
<h2 id="3-2-Á¥¢ÂºïÁªìÊûÑ"><a href="#3-2-Á¥¢ÂºïÁªìÊûÑ" class="headerlink" title="3.2 Á¥¢ÂºïÁªìÊûÑ"></a>3.2 Á¥¢ÂºïÁªìÊûÑ</h2><h3 id="3-2-1-ÊúâÂì™‰∫õÁ¥¢ÂºïÁªìÊûÑ"><a href="#3-2-1-ÊúâÂì™‰∫õÁ¥¢ÂºïÁªìÊûÑ" class="headerlink" title="3.2.1 ÊúâÂì™‰∫õÁ¥¢ÂºïÁªìÊûÑ"></a>3.2.1 ÊúâÂì™‰∫õÁ¥¢ÂºïÁªìÊûÑ</h3><table>
<thead>
<tr>
<th>Á¥¢ÂºïÁªìÊûÑ</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody><tr>
<td>B+TreeÁ¥¢Âºï</td>
<td>ÊúÄÂ∏∏ËßÅÁöÑÁ¥¢ÂºïÁ±ªÂûãÔºåÂ§ßÈÉ®ÂàÜÂºïÊìéÈÉΩÊîØÊåÅ B+ Ê†ëÁ¥¢Âºï„ÄÇ</td>
</tr>
<tr>
<td>HashÁ¥¢Âºï</td>
<td>Â∫ïÂ±ÇÊï∞ÊçÆÁªìÊûÑÊòØÁî®ÂìàÂ∏åË°®ÂÆûÁé∞ÁöÑÔºåÂè™ÊúâÁ≤æÁ°ÆÂåπÈÖçÁ¥¢ÂºïÂàóÁöÑÊü•ËØ¢ÊâçÊúâÊïàÔºå‰∏çÊîØÊåÅËåÉÂõ¥Êü•ËØ¢„ÄÇ</td>
</tr>
<tr>
<td>Full-text(ÂÖ®ÊñáÁ¥¢Âºï)</td>
<td>ÈÄöËøáÂª∫Á´ãÂÄíÊéíÁ¥¢ÂºïÂø´ÈÄüÂåπÈÖçÊñáÊ°£ÁöÑÊñπÂºè„ÄÇÁ±ª‰ºº‰∫éES„ÄÇ</td>
</tr>
</tbody></table>
<h3 id="3-2-2-‰∫åÂèâÊ†ë"><a href="#3-2-2-‰∫åÂèâÊ†ë" class="headerlink" title="3.2.2 ‰∫åÂèâÊ†ë"></a>3.2.2 ‰∫åÂèâÊ†ë</h3><p><img src="/img/blogs/java/mysql/3.2.1.png" srcset="/img/loading.gif" lazyload></p>
<p>ÊâÄ‰ª•ÔºåÂ¶ÇÊûúÈÄâÊã©‰∫åÂèâÊ†ë‰Ωú‰∏∫Á¥¢ÂºïÁªìÊûÑÔºå‰ºöÂ≠òÂú®‰ª•‰∏ãÁº∫ÁÇπÔºö</p>
<ul>
<li>È°∫Â∫èÊèíÂÖ•Êó∂Ôºå‰ºö<strong>ÂΩ¢Êàê‰∏Ä‰∏™ÈìæË°®</strong>ÔºåÊü•ËØ¢ÊÄßËÉΩÂ§ßÂ§ßÈôç‰Ωé„ÄÇ </li>
<li>Â§ßÊï∞ÊçÆÈáèÊÉÖÂÜµ‰∏ãÔºå<strong>Â±ÇÁ∫ßËæÉÊ∑±</strong>ÔºåÊ£ÄÁ¥¢ÈÄüÂ∫¶ÊÖ¢„ÄÇ</li>
</ul>
<p>Ê≠§Êó∂Â§ßÂÆ∂ÂèØËÉΩ‰ºöÊÉ≥Âà∞ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄâÊã©Á∫¢ÈªëÊ†ëÔºåÁ∫¢ÈªëÊ†ëÊòØ‰∏ÄÈ¢óËá™Âπ≥Ë°°‰∫åÂèâÊ†ëÔºåÈÇ£ËøôÊ†∑Âç≥‰ΩøÊòØÈ°∫Â∫èÊèíÂÖ•Êï∞ÊçÆÔºåÊúÄÁªàÂΩ¢ÊàêÁöÑÊï∞ÊçÆÁªìÊûÑ‰πüÊòØ‰∏ÄÈ¢óÂπ≥Ë°°ÁöÑ‰∫åÂèâÊ†ë</p>
<ul>
<li>Âç≥‰ΩøÂ¶ÇÊ≠§ÔºåÁî±‰∫éÁ∫¢ÈªëÊ†ë‰πüÊòØ‰∏ÄÈ¢ó<strong>‰∫åÂèâÊ†ë</strong>Ôºå‰πü‰ºöÂ≠òÂú®‰∏Ä‰∏™Áº∫ÁÇπÔºöÂ§ßÊï∞ÊçÆÈáèÊÉÖÂÜµ‰∏ãÔºå<strong>Â±ÇÁ∫ßËæÉÊ∑±</strong>ÔºåÊ£ÄÁ¥¢ÈÄüÂ∫¶ÊÖ¢</li>
</ul>
<h3 id="3-2-3-BÊ†ë"><a href="#3-2-3-BÊ†ë" class="headerlink" title="3.2.3 BÊ†ë"></a>3.2.3 BÊ†ë</h3><p>BÊ†ëÊòØ‰∏ÄÁßçÂ§öÂèâË∑ØÂπ≥Ë°°Êü•ÊâæÊ†ëÔºåÁõ∏ÂØπ‰∫é‰∫åÂèâÊ†ëÔºå<strong>BÊ†ëÊØè‰∏™ËäÇÁÇπÂèØ‰ª•ÊúâÂ§ö‰∏™ÂàÜÊîØ</strong>ÔºåÂç≥Â§öÂèâ</p>
<h3 id="3-2-4-B-Ê†ë"><a href="#3-2-4-B-Ê†ë" class="headerlink" title="3.2.4 B+Ê†ë"></a>3.2.4 B+Ê†ë</h3><p>B+Tree ‰∏é B-TreeÁõ∏ÊØîÔºå‰∏ªË¶ÅÊúâ‰ª•‰∏ã‰∏âÁÇπÂå∫Âà´Ôºö</p>
<ul>
<li>ÊâÄÊúâÁöÑ<strong>Êï∞ÊçÆÈÉΩ‰ºöÂá∫Áé∞Âú®Âè∂Â≠êËäÇÁÇπ</strong>„ÄÇ </li>
<li>Âè∂Â≠êËäÇÁÇπÂΩ¢Êàê‰∏Ä‰∏™ÂçïÂêëÈìæË°®„ÄÇ</li>
<li><strong>ÈùûÂè∂Â≠êËäÇÁÇπ‰ªÖ‰ªÖËµ∑Âà∞Á¥¢ÂºïÊï∞ÊçÆ‰ΩúÁî®</strong>ÔºåÂÖ∑‰ΩìÁöÑÊï∞ÊçÆÈÉΩÊòØÂú®Âè∂Â≠êËäÇÁÇπÂ≠òÊîæÁöÑ</li>
</ul>
<p>MySQLÁ¥¢ÂºïÊï∞ÊçÆÁªìÊûÑÂØπÁªèÂÖ∏ÁöÑB+TreeËøõË°å‰∫Ü‰ºòÂåñ„ÄÇÂú®ÂéüB+TreeÁöÑÂü∫Á°Ä‰∏äÔºå<strong>Â¢ûÂä†‰∏Ä‰∏™ÊåáÂêëÁõ∏ÈÇªÂè∂Â≠êËäÇÁÇπÁöÑÈìæË°®ÊåáÈíà</strong>Ôºå<strong>ÂΩ¢ÊàêÂèåÂêëÈìæË°®Ôºå‰æø‰∫éËåÉÂõ¥Êü•ËØ¢</strong>ÔºåÂ∞±ÂΩ¢Êàê‰∫ÜÂ∏¶ÊúâÈ°∫Â∫èÊåáÈíàÁöÑB+TreeÔºåÊèêÈ´òÂå∫Èó¥ËÆøÈóÆÁöÑÊÄßËÉΩÔºåÂà©‰∫éÊéíÂ∫è</p>
<p><img src="/img/blogs/java/mysql/3.2.2.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="3-2-5-Hash"><a href="#3-2-5-Hash" class="headerlink" title="3.2.5 Hash"></a>3.2.5 Hash</h3><p>ÂìàÂ∏åÁ¥¢ÂºïÂ∞±ÊòØÈááÁî®‰∏ÄÂÆöÁöÑhashÁÆóÊ≥ïÔºåÂ∞ÜÈîÆÂÄºÊç¢ÁÆóÊàêÊñ∞ÁöÑhashÂÄºÔºåÊò†Â∞ÑÂà∞ÂØπÂ∫îÁöÑÊßΩ‰Ωç‰∏äÔºåÁÑ∂ÂêéÂ≠òÂÇ®Âú®hashË°®‰∏≠<br>Â¶ÇÊûú‰∏§‰∏™(ÊàñÂ§ö‰∏™)ÈîÆÂÄºÔºåÊò†Â∞ÑÂà∞‰∏Ä‰∏™Áõ∏ÂêåÁöÑÊßΩ‰Ωç‰∏äÔºå‰ªñ‰ª¨Â∞±‰∫ßÁîü‰∫Ü<strong>hashÂÜ≤Á™Å</strong>Ôºà‰πüÁß∞‰∏∫hashÁ¢∞ÊíûÔºâÔºåÂèØ‰ª•ÈÄöËøáÈìæË°®Êù•Ëß£ÂÜ≥</p>
<p><img src="/img/blogs/java/mysql/3.2.3.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li>HashÁ¥¢ÂºïÂè™ËÉΩÁî®‰∫é<strong>ÂØπÁ≠âÊØîËæÉ</strong>(&#x3D;Ôºåin)Ôºå<strong>‰∏çÊîØÊåÅËåÉÂõ¥Êü•ËØ¢</strong>ÔºàbetweenÔºå&gt;Ôºå&lt; Ôºå‚Ä¶Ôºâ</li>
<li>Êó†Ê≥ïÂà©Áî®Á¥¢ÂºïÂÆåÊàê<strong>ÊéíÂ∫è</strong>Êìç‰Ωú</li>
<li>Êü•ËØ¢ÊïàÁéáÈ´òÔºåÈÄöÂ∏∏(‰∏ç<strong>Â≠òÂú®hashÂÜ≤Á™Å</strong>ÁöÑÊÉÖÂÜµ)Âè™ÈúÄË¶Å‰∏ÄÊ¨°Ê£ÄÁ¥¢Â∞±ÂèØ‰ª•‰∫ÜÔºåÊïàÁéáÈÄöÂ∏∏Ë¶ÅÈ´ò‰∫éB+treeÁ¥¢Âºï</li>
</ul>
<h3 id="3-2-6-ÊÄùËÄÉÈ¢ò"><a href="#3-2-6-ÊÄùËÄÉÈ¢ò" class="headerlink" title="3.2.6 ÊÄùËÄÉÈ¢ò"></a>3.2.6 ÊÄùËÄÉÈ¢ò</h3><p>‰∏∫‰ªÄ‰πàInnoDBÂ≠òÂÇ®ÂºïÊìéÈÄâÊã©‰ΩøÁî®B+treeÁ¥¢ÂºïÁªìÊûÑ?</p>
<ul>
<li>Áõ∏ÂØπ‰∫é<strong>‰∫åÂèâÊ†ë</strong>Ôºå<strong>Â±ÇÁ∫ßÊõ¥Â∞ë</strong>ÔºåÊêúÁ¥¢ÊïàÁéáÈ´òÔºõ</li>
<li>ÂØπ‰∫é<strong>BÊ†ë</strong>ÔºåÊó†ËÆ∫ÊòØ<strong>Âè∂Â≠êËäÇÁÇπËøòÊòØÈùûÂè∂Â≠êËäÇÁÇπÔºåÈÉΩ‰ºö‰øùÂ≠òÊï∞ÊçÆ</strong>ÔºåËøôÊ†∑ÂØºËá¥‰∏ÄÈ°µ‰∏≠Â≠òÂÇ®ÁöÑÈîÆÂÄºÂáèÂ∞ëÔºåÊåáÈíàË∑üÁùÄÂáèÂ∞ëÔºåË¶ÅÂêåÊ†∑‰øùÂ≠òÂ§ßÈáèÊï∞ÊçÆÔºåÂè™ËÉΩÂ¢ûÂä†Ê†ëÁöÑÈ´òÂ∫¶ÔºåÂØºËá¥ÊÄßËÉΩÈôç‰ΩéÔºõ</li>
<li>Áõ∏ÂØπ<strong>Hash</strong>Á¥¢ÂºïÔºåB+tree<strong>ÊîØÊåÅËåÉÂõ¥ÂåπÈÖçÂèäÊéíÂ∫èÊìç‰Ωú</strong></li>
</ul>
<h2 id="3-3-Á¥¢ÂºïÂàÜÁ±ª"><a href="#3-3-Á¥¢ÂºïÂàÜÁ±ª" class="headerlink" title="3.3 Á¥¢ÂºïÂàÜÁ±ª"></a>3.3 Á¥¢ÂºïÂàÜÁ±ª</h2><p>Âú®MySQLÊï∞ÊçÆÂ∫ìÔºåÂ∞ÜÁ¥¢ÂºïÁöÑÂÖ∑‰ΩìÁ±ªÂûã‰∏ªË¶ÅÂàÜ‰∏∫‰ª•‰∏ãÂá†Á±ªÔºö‰∏ªÈîÆÁ¥¢Âºï„ÄÅÂîØ‰∏ÄÁ¥¢Âºï„ÄÅÂ∏∏ËßÑÁ¥¢Âºï„ÄÅÂÖ®ÊñáÁ¥¢Âºï</p>
<table>
<thead>
<tr>
<th>ÂàÜÁ±ª</th>
<th>Âê´‰πâ</th>
<th>ÁâπÁÇπ</th>
<th>ÂÖ≥ÈîÆÂ≠ó</th>
</tr>
</thead>
<tbody><tr>
<td><strong>‰∏ªÈîÆÁ¥¢Âºï</strong></td>
<td>ÈíàÂØπ‰∫éË°®‰∏≠‰∏ªÈîÆÂàõÂª∫ÁöÑÁ¥¢Âºï</td>
<td>ÈªòËÆ§Ëá™Âä®ÂàõÂª∫ÔºåÂè™ËÉΩÊúâ‰∏Ä‰∏™</td>
<td>PRIMARY</td>
</tr>
<tr>
<td><strong>ÂîØ‰∏ÄÁ¥¢Âºï</strong></td>
<td>ÈÅøÂÖçÂêå‰∏Ä‰∏™Ë°®‰∏≠ÊüêÊï∞ÊçÆÂàó‰∏≠ÁöÑÂÄºÈáçÂ§ç</td>
<td>ÂèØ‰ª•ÊúâÂ§ö‰∏™</td>
<td>UNIQUE</td>
</tr>
<tr>
<td><strong>Â∏∏ËßÑÁ¥¢Âºï</strong></td>
<td>Âø´ÈÄüÂÆö‰ΩçÁâπÂÆöÊï∞ÊçÆ</td>
<td>ÂèØ‰ª•ÊúâÂ§ö‰∏™</td>
<td></td>
</tr>
<tr>
<td><strong>ÂÖ®ÊñáÁ¥¢Âºï</strong></td>
<td>Êü•ÊâæÊñáÊú¨‰∏≠ÁöÑÂÖ≥ÈîÆËØçÔºåËÄå‰∏çÊòØÊØîËæÉÁ¥¢Âºï‰∏≠ÁöÑÂÄº</td>
<td>ÂèØ‰ª•ÊúâÂ§ö‰∏™</td>
<td>FULLTEXT</td>
</tr>
</tbody></table>
<p>Âú®InnoDBÂ≠òÂÇ®ÂºïÊìé‰∏≠ÔºåÊ†πÊçÆÁ¥¢ÂºïÁöÑÂ≠òÂÇ®ÂΩ¢ÂºèÔºåÂèàÂèØ‰ª•ÂàÜ‰∏∫‰ª•‰∏ã‰∏§ÁßçÔºöËÅöÈõÜÁ¥¢Âºï&amp;‰∫åÁ∫ßÁ¥¢Âºï</p>
<table>
<thead>
<tr>
<th>ÂàÜÁ±ª</th>
<th>Âê´‰πâ</th>
<th>ÁâπÁÇπ</th>
</tr>
</thead>
<tbody><tr>
<td><strong>ËÅöÈõÜÁ¥¢Âºï</strong>(Clustered Index)</td>
<td>Â∞ÜÊï∞ÊçÆÂ≠òÂÇ®‰∏éÁ¥¢ÂºïÊîæÂà∞‰∫Ü‰∏ÄÂùóÔºåÁ¥¢ÂºïÁªìÊûÑÁöÑÂè∂Â≠êËäÇÁÇπ‰øùÂ≠ò‰∫ÜË°åÊï∞ÊçÆ</td>
<td>ÂøÖÈ°ªÊúâÔºåËÄå‰∏îÂè™Êúâ‰∏Ä‰∏™</td>
</tr>
<tr>
<td><strong>‰∫åÁ∫ßÁ¥¢Âºï</strong>(Secondary Index)</td>
<td>Â∞ÜÊï∞ÊçÆ‰∏éÁ¥¢ÂºïÂàÜÂºÄÂ≠òÂÇ®ÔºåÁ¥¢ÂºïÁªìÊûÑÁöÑÂè∂Â≠êËäÇÁÇπÂÖ≥ËÅîÁöÑÊòØÂØπÂ∫îÁöÑ‰∏ªÈîÆ</td>
<td>ÂèØ‰ª•Â≠òÂú®Â§ö‰∏™</td>
</tr>
</tbody></table>
<p>ËÅöÈõÜÁ¥¢ÂºïÈÄâÂèñËßÑÂàô:</p>
<ul>
<li>Â¶ÇÊûúÂ≠òÂú®‰∏ªÈîÆÔºå‰∏ªÈîÆÁ¥¢ÂºïÂ∞±ÊòØËÅöÈõÜÁ¥¢Âºï</li>
<li>Â¶ÇÊûú‰∏çÂ≠òÂú®‰∏ªÈîÆÔºåÂ∞Ü‰ΩøÁî®Á¨¨‰∏Ä‰∏™ÂîØ‰∏ÄÔºàUNIQUEÔºâÁ¥¢Âºï‰Ωú‰∏∫ËÅöÈõÜÁ¥¢Âºï„ÄÇ</li>
<li>Â¶ÇÊûúË°®Ê≤°Êúâ‰∏ªÈîÆÔºåÊàñÊ≤°ÊúâÂêàÈÄÇÁöÑÂîØ‰∏ÄÁ¥¢ÂºïÔºåÂàôInnoDB‰ºöËá™Âä®ÁîüÊàê‰∏Ä‰∏™rowid‰Ωú‰∏∫ÈöêËóèÁöÑËÅöÈõÜÁ¥¢Âºï</li>
</ul>
<p><img src="/img/blogs/java/mysql/3.3.1.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li>ËÅöÈõÜÁ¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπ‰∏ãÊåÇÁöÑÊòØËøô‰∏ÄË°åÁöÑÊï∞ÊçÆ „ÄÇ</li>
<li>‰∫åÁ∫ßÁ¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπ‰∏ãÊåÇÁöÑÊòØËØ•Â≠óÊÆµÂÄºÂØπÂ∫îÁöÑ‰∏ªÈîÆÂÄº„ÄÇ</li>
<li><strong>ÂõûË°®Êü•ËØ¢</strong>Ôºö ËøôÁßç<strong>ÂÖàÂà∞‰∫åÁ∫ßÁ¥¢Âºï‰∏≠Êü•ÊâæÊï∞ÊçÆÔºåÊâæÂà∞‰∏ªÈîÆÂÄºÔºåÁÑ∂ÂêéÂÜçÂà∞ËÅöÈõÜÁ¥¢Âºï‰∏≠Ê†πÊçÆ‰∏ªÈîÆÂÄº</strong>ÔºåËé∑ÂèñÊï∞ÊçÆÁöÑÊñπÂºèÔºåÂ∞±Áß∞‰πã‰∏∫ÂõûË°®Êü•ËØ¢„ÄÇ</li>
</ul>
<h2 id="3-4-SQLÊÄßËÉΩÂàÜÊûêÂ∑•ÂÖ∑"><a href="#3-4-SQLÊÄßËÉΩÂàÜÊûêÂ∑•ÂÖ∑" class="headerlink" title="3.4 SQLÊÄßËÉΩÂàÜÊûêÂ∑•ÂÖ∑"></a>3.4 SQLÊÄßËÉΩÂàÜÊûêÂ∑•ÂÖ∑</h2><h3 id="3-4-1-SQLÊâßË°åÈ¢ëÁéá"><a href="#3-4-1-SQLÊâßË°åÈ¢ëÁéá" class="headerlink" title="3.4.1 SQLÊâßË°åÈ¢ëÁéá"></a>3.4.1 SQLÊâßË°åÈ¢ëÁéá</h3><p>MySQL ÂÆ¢Êà∑Á´ØËøûÊé•ÊàêÂäüÂêéÔºåÈÄöËøá <code>show [session|global] status</code> ÂëΩ‰ª§ÂèØ‰ª•Êèê‰æõÊúçÂä°Âô®Áä∂ÊÄÅ‰ø°ÊÅØ„ÄÇÈÄöËøáÂ¶Ç‰∏ãÊåá‰ª§ÔºåÂèØ‰ª•<strong>Êü•ÁúãÂΩìÂâçÊï∞ÊçÆÂ∫ìÁöÑINSERT„ÄÅUPDATE„ÄÅDELETE„ÄÅSELECTÁöÑËÆøÈóÆÈ¢ëÊ¨°</strong></p>
<p>ÈÄöËøá‰∏äËø∞Êåá‰ª§ÔºåÊàë‰ª¨ÂèØ‰ª•<strong>Êü•ÁúãÂà∞ÂΩìÂâçÊï∞ÊçÆÂ∫ìÂà∞Â∫ïÊòØ‰ª•Êü•ËØ¢‰∏∫‰∏ªÔºåËøòÊòØ‰ª•Â¢ûÂà†Êîπ‰∏∫‰∏ª</strong>Ôºå‰ªéËÄå‰∏∫Êï∞ÊçÆÂ∫ì‰ºòÂåñÊèê‰æõÂèÇËÄÉ‰æùÊçÆ„ÄÇ Â¶ÇÊûúÊòØ‰ª•Â¢ûÂà†Êîπ‰∏∫‰∏ªÔºåÊàë‰ª¨ÂèØ‰ª•ËÄÉËôë‰∏çÂØπÂÖ∂ËøõË°åÁ¥¢ÂºïÁöÑ‰ºòÂåñ„ÄÇ <strong>Â¶ÇÊûúÊòØ‰ª•Êü•ËØ¢‰∏∫‰∏ªÔºåÈÇ£‰πàÂ∞±Ë¶ÅËÄÉËôëÂØπÊï∞ÊçÆÂ∫ìÁöÑÁ¥¢ÂºïËøõË°å‰ºòÂåñ‰∫Ü</strong></p>
<h3 id="3-4-2-ÊÖ¢Êü•ËØ¢Êó•Âøó"><a href="#3-4-2-ÊÖ¢Êü•ËØ¢Êó•Âøó" class="headerlink" title="3.4.2 ÊÖ¢Êü•ËØ¢Êó•Âøó"></a>3.4.2 ÊÖ¢Êü•ËØ¢Êó•Âøó</h3><p>ÊÖ¢Êü•ËØ¢Êó•Âøó<strong>ËÆ∞ÂΩï‰∫ÜÊâÄÊúâÊâßË°åÊó∂Èó¥Ë∂ÖËøáÊåáÂÆöÂèÇÊï∞</strong>Ôºàlong_query_timeÔºåÂçï‰ΩçÔºöÁßíÔºåÈªòËÆ§10ÁßíÔºâÁöÑÊâÄÊúâSQLËØ≠Âè•ÁöÑÊó•Âøó</p>
<p>ÈÄöËøáÊÖ¢Êü•ËØ¢Êó•ÂøóÔºåÂ∞±ÂèØ‰ª•ÂÆö‰ΩçÂá∫ÊâßË°åÊïàÁéáÊØîËæÉ‰ΩéÁöÑSQLÔºå‰ªéËÄåÊúâÈíàÂØπÊÄßÁöÑËøõË°å‰ºòÂåñ</p>
<h3 id="3-4-3-profileËØ¶ÊÉÖ"><a href="#3-4-3-profileËØ¶ÊÉÖ" class="headerlink" title="3.4.3 profileËØ¶ÊÉÖ"></a>3.4.3 profileËØ¶ÊÉÖ</h3><p><code>show profiles</code> ËÉΩÂ§üÂú®ÂÅöSQL‰ºòÂåñÊó∂Â∏ÆÂä©Êàë‰ª¨‰∫ÜËß£Êó∂Èó¥ÈÉΩËÄóË¥πÂà∞Âì™ÈáåÂéª‰∫Ü</p>
<h3 id="3-4-4-explain"><a href="#3-4-4-explain" class="headerlink" title="3.4.4 explain"></a>3.4.4 explain</h3><p><strong>EXPLAIN</strong> ÊàñËÄÖ DESCÂëΩ‰ª§Ëé∑Âèñ MySQL <strong>Â¶Ç‰ΩïÊâßË°å SELECT ËØ≠Âè•ÁöÑ‰ø°ÊÅØ</strong>ÔºåÂåÖÊã¨Âú® SELECT ËØ≠Âè•ÊâßË°å<br>ËøáÁ®ã‰∏≠<strong>Ë°®Â¶Ç‰ΩïËøûÊé•ÂíåËøûÊé•ÁöÑÈ°∫Â∫è</strong></p>
<p><img src="/img/blogs/java/mysql/3.4.1.png" srcset="/img/loading.gif" lazyload></p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµ</th>
<th>Âê´‰πâ</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>selectÊü•ËØ¢ÁöÑÂ∫èÂàóÂè∑ÔºåË°®Á§∫Êü•ËØ¢‰∏≠<strong>ÊâßË°åselectÂ≠êÂè•ÊàñÊìç‰ΩúË°®ÁöÑÈ°∫Â∫è</strong>ÔºàidÁõ∏ÂêåÔºåÊâßË°åÈ°∫Â∫è‰ªé‰∏äÂà∞‰∏ãÔºõid‰∏çÂêåÔºåÂÄºË∂äÂ§ßË∂äÂÖàÊâßË°åÔºâ„ÄÇ</td>
</tr>
<tr>
<td>select_type</td>
<td>Ë°®Á§∫<strong>SELECTÁ±ªÂûã</strong>ÔºåÂ∏∏ËßÅÂèñÂÄºÔºö<br>‚Ä¢ SIMPLEÔºàÁÆÄÂçïË°®Ôºå‰∏ç‰ΩøÁî®Ë°®ËøûÊé•ÊàñÂ≠êÊü•ËØ¢Ôºâ<br>‚Ä¢ PRIMARYÔºà‰∏ªÊü•ËØ¢ÔºåÂ§ñÂ±ÇÊü•ËØ¢Ôºâ<br>‚Ä¢ UNIONÔºàUNION‰∏≠Á¨¨‰∫å‰∏™ÊàñÂêéÈù¢ÁöÑÊü•ËØ¢ËØ≠Âè•Ôºâ<br>‚Ä¢ SUBQUERYÔºàSELECT&#x2F;WHEREÂêéÁöÑÂ≠êÊü•ËØ¢Ôºâ</td>
</tr>
<tr>
<td>type</td>
<td>Ë°®Á§∫<strong>ËøûÊé•Á±ªÂûã</strong>ÔºåÊÄßËÉΩÁî±Â•ΩÂà∞Â∑Æ‰∏∫ÔºöNULL &gt; system &gt; const &gt; eq_ref &gt; ref &gt; range &gt; index &gt; all„ÄÇ</td>
</tr>
<tr>
<td>possible_keys</td>
<td>ÊòæÁ§∫<strong>ÂèØËÉΩÁî®Âà∞ÁöÑÁ¥¢Âºï</strong>ÔºåÂèØËÉΩÂ∫îÁî®Âú®ËøôÂº†Ë°®‰∏äÁöÑÁ¥¢ÂºïÔºà‰∏Ä‰∏™ÊàñÂ§ö‰∏™Ôºâ„ÄÇ</td>
</tr>
<tr>
<td>key</td>
<td><strong>ÂÆûÈôÖ‰ΩøÁî®ÁöÑÁ¥¢Âºï</strong>ÔºåNULLË°®Á§∫Êú™‰ΩøÁî®Á¥¢Âºï„ÄÇ</td>
</tr>
<tr>
<td>key_len</td>
<td>Á¥¢Âºï‰ΩøÁî®ÁöÑÂ≠óËäÇÊï∞ÔºàÊúÄÂ§ßÂèØËÉΩÈïøÂ∫¶ÔºåÈùûÂÆûÈôÖÈïøÂ∫¶ÔºâÔºåÂú®‰øùËØÅÁ≤æÁ°ÆÊÄßÂâçÊèê‰∏ãË∂äÁü≠Ë∂äÂ•Ω„ÄÇ</td>
</tr>
<tr>
<td>rows</td>
<td>MySQLËÆ§‰∏∫ÂøÖÈ°ªÊâßË°åÊü•ËØ¢ÁöÑË°åÊï∞ÔºàInnoDBÂºïÊìé‰∏≠ÊòØ‰º∞ËÆ°ÂÄºÔºåÂèØËÉΩ‰∏çÂáÜÁ°ÆÔºâ„ÄÇ</td>
</tr>
<tr>
<td>filtered</td>
<td>ËøîÂõûÁªìÊûúË°åÊï∞Âç†ÈúÄËØªÂèñË°åÊï∞ÁöÑÁôæÂàÜÊØîÔºåÂÄºË∂äÂ§ßË∂äÂ•Ω„ÄÇ</td>
</tr>
</tbody></table>
<h2 id="3-5-Á¥¢Âºï‰ΩøÁî®"><a href="#3-5-Á¥¢Âºï‰ΩøÁî®" class="headerlink" title="3.5 Á¥¢Âºï‰ΩøÁî®"></a>3.5 Á¥¢Âºï‰ΩøÁî®</h2><h3 id="3-5-1-ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô"><a href="#3-5-1-ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô" class="headerlink" title="3.5.1 ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô"></a>3.5.1 ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô</h3><p>ËÅîÂêàÁ¥¢ÂºïÔºöËøô‰∏™Á¥¢ÂºïÂ∞±Âè´ËÅîÂêàÁ¥¢ÂºïÔºåÂÆÉÂåÖÂê´‰∫ÜageÂíåsex‰∏§‰∏™Â≠óÊÆµ<br><code>CREATE INDEX idx_user_age_sex ON users (age, sex);</code></p>
<p>Â¶ÇÊûúÁ¥¢Âºï‰∫ÜÂ§öÂàóÔºà<strong>ËÅîÂêàÁ¥¢Âºï</strong>ÔºâÔºåË¶ÅÈÅµÂÆàÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô„ÄÇÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàôÊåáÁöÑÊòØÊü•ËØ¢‰ªéÁ¥¢ÂºïÁöÑÊúÄÂ∑¶ÂàóÂºÄÂßãÔºåÂπ∂‰∏î‰∏çË∑≥ËøáÁ¥¢Âºï‰∏≠ÁöÑÂàó„ÄÇÂ¶ÇÊûúË∑≥Ë∑ÉÊüê‰∏ÄÂàóÔºåÁ¥¢ÂºïÂ∞Ü‰ºöÈÉ®ÂàÜÂ§±Êïà(<strong>ÂêéÈù¢ÁöÑÂ≠óÊÆµÁ¥¢ÂºïÂ§±Êïà</strong>)</p>
<ul>
<li>ÂØπ‰∫éÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàôÊåáÁöÑÊòØÔºåÊü•ËØ¢Êó∂Ôºå<strong>ÊúÄÂ∑¶ËæπÁöÑÂàóÂøÖÈ°ªÂ≠òÂú®ÔºåÂê¶ÂàôÁ¥¢ÂºïÂÖ®ÈÉ®Â§±Êïà</strong>„ÄÇ </li>
<li>ËÄå‰∏î‰∏≠Èó¥‰∏çËÉΩË∑≥ËøáÊüê‰∏ÄÂàóÔºåÂê¶Âàô<strong>ËØ•ÂàóÂêéÈù¢ÁöÑÂ≠óÊÆµÁ¥¢ÂºïÂ∞ÜÂ§±Êïà</strong></li>
</ul>
<p>ËÅîÂêàÁ¥¢Âºï‰∏≠Ôºå<strong>Âá∫Áé∞ËåÉÂõ¥Êü•ËØ¢</strong>(&gt;,&lt;)Ôºå<strong>ËåÉÂõ¥Êü•ËØ¢Âè≥‰æßÁöÑÂàóÁ¥¢ÂºïÂ§±Êïà</strong></p>
<ul>
<li>ÂΩìËåÉÂõ¥Êü•ËØ¢‰ΩøÁî®&gt;&#x3D; Êàñ &lt;&#x3D; Êó∂ÔºåËµ∞ËÅîÂêàÁ¥¢Âºï‰∫Ü</li>
<li>ÊâÄ‰ª•ÔºåÂú®‰∏öÂä°ÂÖÅËÆ∏ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ∞ΩÂèØËÉΩÁöÑ‰ΩøÁî®Á±ª‰ºº‰∫é &gt;&#x3D; Êàñ &lt;&#x3D; ËøôÁ±ªÁöÑËåÉÂõ¥Êü•ËØ¢ÔºåËÄåÈÅøÂÖç‰ΩøÁî® &gt; Êàñ &lt;</li>
</ul>
<h3 id="3-5-2-Á¥¢ÂºïÂ§±ÊïàÊÉÖÂÜµ"><a href="#3-5-2-Á¥¢ÂºïÂ§±ÊïàÊÉÖÂÜµ" class="headerlink" title="3.5.2 Á¥¢ÂºïÂ§±ÊïàÊÉÖÂÜµ"></a>3.5.2 Á¥¢ÂºïÂ§±ÊïàÊÉÖÂÜµ</h3><ol>
<li>Á¥¢ÂºïÂàóËøêÁÆó<ul>
<li><strong>‰∏çË¶ÅÂú®Á¥¢ÂºïÂàó‰∏äËøõË°åËøêÁÆóÊìç‰ΩúÔºå Á¥¢ÂºïÂ∞ÜÂ§±Êïà</strong>„ÄÇ</li>
</ul>
</li>
<li>Â≠óÁ¨¶‰∏≤‰∏çÂä†ÂºïÂè∑<ul>
<li>Â≠óÁ¨¶‰∏≤Á±ªÂûãÂ≠óÊÆµ‰ΩøÁî®Êó∂Ôºå<strong>‰∏çÂä†ÂºïÂè∑ÔºåÁ¥¢ÂºïÂ∞ÜÂ§±Êïà</strong></li>
</ul>
</li>
<li>Ê®°Á≥äÊü•ËØ¢<ul>
<li>Â¶ÇÊûú‰ªÖ‰ªÖÊòØÂ∞æÈÉ®Ê®°Á≥äÂåπÈÖçÔºåÁ¥¢Âºï‰∏ç‰ºöÂ§±Êïà„ÄÇÂ¶ÇÊûúÊòØ<strong>Â§¥ÈÉ®Ê®°Á≥äÂåπÈÖçÔºåÁ¥¢ÂºïÂ§±Êïà</strong>, <code>%Â∑•Á®ã</code></li>
</ul>
</li>
<li>orËøûÊé•Êù°‰ª∂<ul>
<li>Áî®orÂàÜÂâ≤ÂºÄÁöÑÊù°‰ª∂Ôºå <strong>Â¶ÇÊûúorÂâçÁöÑÊù°‰ª∂‰∏≠ÁöÑÂàóÊúâÁ¥¢ÂºïÔºåËÄåÂêéÈù¢ÁöÑÂàó‰∏≠Ê≤°ÊúâÁ¥¢ÂºïÔºåÈÇ£‰πàÊ∂âÂèäÁöÑÁ¥¢ÂºïÈÉΩ‰∏ç‰ºöË¢´Áî®Âà∞</strong></li>
</ul>
</li>
<li>Â¶ÇÊûúMySQLËØÑ‰º∞‰ΩøÁî®<strong>Á¥¢ÂºïÊØîÂÖ®Ë°®Êõ¥ÊÖ¢ÔºåÂàô‰∏ç‰ΩøÁî®Á¥¢Âºï</strong></li>
</ol>
<h3 id="3-5-3-Ë¶ÜÁõñÁ¥¢Âºï"><a href="#3-5-3-Ë¶ÜÁõñÁ¥¢Âºï" class="headerlink" title="3.5.3 Ë¶ÜÁõñÁ¥¢Âºï"></a>3.5.3 Ë¶ÜÁõñÁ¥¢Âºï</h3><p>Ë¶ÜÁõñÁ¥¢ÂºïÊòØÊåá Êü•ËØ¢‰ΩøÁî®‰∫ÜÁ¥¢ÂºïÔºåÂπ∂‰∏îÈúÄË¶ÅËøîÂõûÁöÑÂàóÔºåÂú®ËØ•Á¥¢Âºï‰∏≠Â∑≤ÁªèÂÖ®ÈÉ®ËÉΩÂ§üÊâæÂà∞</p>
<ul>
<li>Â∞ΩÈáè‰ΩøÁî®Ë¶ÜÁõñÁ¥¢ÂºïÔºåÂáèÂ∞ëselect *„ÄÇ</li>
</ul>
<p>‰∏ÄÂº†Ë°®, ÊúâÂõõ‰∏™Â≠óÊÆµ(id, username, password, status), Áî±‰∫éÊï∞ÊçÆÈáèÂ§ß, ÈúÄË¶ÅÂØπ<br>‰ª•‰∏ãSQLËØ≠Âè•ËøõË°å‰ºòÂåñ, ËØ•Â¶Ç‰ΩïËøõË°åÊâçÊòØÊúÄ‰ºòÊñπÊ°à:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> id,username,password <span class="hljs-keyword">from</span> tb_user <span class="hljs-keyword">where</span> username <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;itcast&#x27;</span>;<br></code></pre></td></tr></table></figure>

<p>Á≠îÊ°à: ÈíàÂØπ‰∫é <strong>username, passwordÂª∫Á´ãËÅîÂêàÁ¥¢Âºï</strong>, sql‰∏∫: </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> index idx_user_name_pass <span class="hljs-keyword">on</span> tb_user(username,password); <br></code></pre></td></tr></table></figure>

<p>ËøôÊ†∑ÂèØ‰ª•ÈÅøÂÖç‰∏äËø∞ÁöÑSQLËØ≠Âè•ÔºåÂú®Êü•ËØ¢ÁöÑËøáÁ®ã‰∏≠ÔºåÂá∫Áé∞ÂõûË°®Êü•ËØ¢„ÄÇ<strong>ÈÅøÂÖçÂõûË°®Êü•ËØ¢</strong></p>
<h3 id="3-5-4-ÂâçÁºÄÁ¥¢Âºï"><a href="#3-5-4-ÂâçÁºÄÁ¥¢Âºï" class="headerlink" title="3.5.4 ÂâçÁºÄÁ¥¢Âºï"></a>3.5.4 ÂâçÁºÄÁ¥¢Âºï</h3><p>ÂΩìÂ≠óÊÆµÁ±ªÂûã‰∏∫Â≠óÁ¨¶‰∏≤ÔºàvarcharÔºåtextÔºålongtextÁ≠âÔºâÊó∂ÔºåÊúâÊó∂ÂÄôÈúÄË¶Å<strong>Á¥¢ÂºïÂæàÈïøÁöÑÂ≠óÁ¨¶‰∏≤</strong>ÔºåËøô‰ºöËÆ©Á¥¢ÂºïÂèòÂæóÂæàÂ§ßÔºåÊü•ËØ¢Êó∂ÔºåÊµ™Ë¥πÂ§ßÈáèÁöÑÁ£ÅÁõòIOÔºå ÂΩ±ÂìçÊü•ËØ¢ÊïàÁéá„ÄÇÊ≠§Êó∂ÂèØ‰ª•<strong>Âè™Â∞ÜÂ≠óÁ¨¶‰∏≤ÁöÑ‰∏ÄÈÉ®ÂàÜÂâçÁºÄÔºåÂª∫Á´ãÁ¥¢Âºï</strong>ÔºåËøôÊ†∑ÂèØ‰ª•Â§ßÂ§ßËäÇÁ∫¶Á¥¢ÂºïÁ©∫Èó¥Ôºå‰ªéËÄåÊèêÈ´òÁ¥¢ÂºïÊïàÁéá</p>
<p><strong>ÂâçÁºÄÈïøÂ∫¶Â¶Ç‰ΩïÁ°ÆÂÆöÔºü</strong></p>
<ul>
<li>ÂèØ‰ª•Ê†πÊçÆÁ¥¢ÂºïÁöÑÈÄâÊã©ÊÄßÊù•ÂÜ≥ÂÆöÔºåËÄåÈÄâÊã©ÊÄßÊòØÊåá<strong>‰∏çÈáçÂ§çÁöÑÁ¥¢ÂºïÂÄºÔºàÂü∫Êï∞ÔºâÂíåÊï∞ÊçÆË°®ÁöÑËÆ∞ÂΩïÊÄªÊï∞ÁöÑÊØîÂÄº</strong>ÔºåÁ¥¢ÂºïÈÄâÊã©ÊÄßË∂äÈ´òÂàôÊü•ËØ¢ÊïàÁéáË∂äÈ´òÔºå ÂîØ‰∏ÄÁ¥¢ÂºïÁöÑÈÄâÊã©ÊÄßÊòØ1ÔºåËøôÊòØÊúÄÂ•ΩÁöÑÁ¥¢ÂºïÈÄâÊã©ÊÄßÔºåÊÄßËÉΩ‰πüÊòØÊúÄÂ•ΩÁöÑ</li>
</ul>
<h3 id="3-5-5-ÂçïÂàóÁ¥¢Âºï‰∏éËÅîÂêàÁ¥¢Âºï"><a href="#3-5-5-ÂçïÂàóÁ¥¢Âºï‰∏éËÅîÂêàÁ¥¢Âºï" class="headerlink" title="3.5.5 ÂçïÂàóÁ¥¢Âºï‰∏éËÅîÂêàÁ¥¢Âºï"></a>3.5.5 ÂçïÂàóÁ¥¢Âºï‰∏éËÅîÂêàÁ¥¢Âºï</h3><ul>
<li>ÂçïÂàóÁ¥¢ÂºïÔºöÂç≥‰∏Ä‰∏™Á¥¢ÂºïÂè™ÂåÖÂê´Âçï‰∏™Âàó„ÄÇ</li>
<li>ËÅîÂêàÁ¥¢ÂºïÔºöÂç≥‰∏Ä‰∏™Á¥¢ÂºïÂåÖÂê´‰∫ÜÂ§ö‰∏™Âàó</li>
</ul>
<p>Âú®‰∏öÂä°Âú∫ÊôØ‰∏≠Ôºå<strong>Â¶ÇÊûúÂ≠òÂú®Â§ö‰∏™Êü•ËØ¢Êù°‰ª∂</strong>ÔºåËÄÉËôë<strong>ÈíàÂØπ‰∫éÊü•ËØ¢Â≠óÊÆµÂª∫Á´ãÁ¥¢ÂºïÊó∂ÔºåÂª∫ËÆÆÂª∫Á´ãËÅîÂêàÁ¥¢Âºï</strong>ÔºåËÄåÈùûÂçïÂàóÁ¥¢Âºï</p>
<h2 id="3-6-Á¥¢ÂºïËÆæËÆ°ÂéüÂàô"><a href="#3-6-Á¥¢ÂºïËÆæËÆ°ÂéüÂàô" class="headerlink" title="3.6 Á¥¢ÂºïËÆæËÆ°ÂéüÂàô"></a>3.6 Á¥¢ÂºïËÆæËÆ°ÂéüÂàô</h2><ol>
<li>ÈíàÂØπ‰∫é<strong>Êï∞ÊçÆÈáèËæÉÂ§ßÔºå‰∏îÊü•ËØ¢ÊØîËæÉÈ¢ëÁπÅÁöÑË°®</strong>Âª∫Á´ãÁ¥¢Âºï„ÄÇ</li>
<li>ÈíàÂØπ‰∫é<strong>Â∏∏‰Ωú‰∏∫Êü•ËØ¢Êù°‰ª∂</strong>ÔºàwhereÔºâ„ÄÅÊéíÂ∫èÔºàorder byÔºâ„ÄÅÂàÜÁªÑÔºàgroup byÔºâÊìç‰ΩúÁöÑÂ≠óÊÆµÂª∫Á´ãÁ¥¢Âºï„ÄÇ</li>
<li>Â∞ΩÈáèÈÄâÊã©<strong>Âå∫ÂàÜÂ∫¶È´òÁöÑÂàó</strong>‰Ωú‰∏∫Á¥¢ÂºïÔºåÂ∞ΩÈáè<strong>Âª∫Á´ãÂîØ‰∏ÄÁ¥¢Âºï</strong>ÔºåÂå∫ÂàÜÂ∫¶Ë∂äÈ´òÔºå‰ΩøÁî®Á¥¢ÂºïÁöÑÊïàÁéáË∂äÈ´ò„ÄÇ</li>
<li>Â¶ÇÊûúÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÂ≠óÊÆµÔºå<strong>Â≠óÊÆµÁöÑÈïøÂ∫¶ËæÉÈïø</strong>ÔºåÂèØ‰ª•ÈíàÂØπ‰∫éÂ≠óÊÆµÁöÑÁâπÁÇπÔºå<strong>Âª∫Á´ãÂâçÁºÄÁ¥¢Âºï</strong>„ÄÇ</li>
<li><strong>Â∞ΩÈáè‰ΩøÁî®ËÅîÂêàÁ¥¢ÂºïÔºåÂáèÂ∞ëÂçïÂàóÁ¥¢Âºï</strong>ÔºåÊü•ËØ¢Êó∂ÔºåËÅîÂêàÁ¥¢ÂºïÂæàÂ§öÊó∂ÂÄôÂèØ‰ª•Ë¶ÜÁõñÁ¥¢ÂºïÔºåËäÇÁúÅÂ≠òÂÇ®Á©∫Èó¥ÔºåÈÅøÂÖçÂõûË°®ÔºåÊèêÈ´òÊü•ËØ¢ÊïàÁéá„ÄÇ</li>
<li>Ë¶ÅÊéßÂà∂Á¥¢ÂºïÁöÑÊï∞ÈáèÔºåÁ¥¢ÂºïÂπ∂‰∏çÊòØÂ§öÂ§öÁõäÂñÑÔºåÁ¥¢ÂºïË∂äÂ§öÔºåÁª¥Êä§Á¥¢ÂºïÁªìÊûÑÁöÑ‰ª£‰ª∑‰πüÂ∞±Ë∂äÂ§ßÔºå‰ºöÂΩ±ÂìçÂ¢ûÂà†ÊîπÁöÑÊïàÁéá„ÄÇ</li>
<li>Â¶ÇÊûúÁ¥¢ÂºïÂàó‰∏çËÉΩÂ≠òÂÇ®NULLÂÄºÔºåËØ∑Âú®ÂàõÂª∫Ë°®Êó∂‰ΩøÁî®NOT NULLÁ∫¶ÊùüÂÆÉ„ÄÇÂΩì‰ºòÂåñÂô®Áü•ÈÅìÊØèÂàóÊòØÂê¶ÂåÖÂê´<br>NULLÂÄºÊó∂ÔºåÂÆÉÂèØ‰ª•Êõ¥Â•ΩÂú∞Á°ÆÂÆöÂì™‰∏™Á¥¢ÂºïÊúÄÊúâÊïàÂú∞Áî®‰∫éÊü•ËØ¢</li>
</ol>
<h1 id="4-ÈîÅ"><a href="#4-ÈîÅ" class="headerlink" title="4. ÈîÅ"></a>4. ÈîÅ</h1><h2 id="4-1-ÈîÅÁöÑÊ¶ÇËø∞"><a href="#4-1-ÈîÅÁöÑÊ¶ÇËø∞" class="headerlink" title="4.1 ÈîÅÁöÑÊ¶ÇËø∞"></a>4.1 ÈîÅÁöÑÊ¶ÇËø∞</h2><p>ÈîÅÊòØËÆ°ÁÆóÊú∫ÂçèË∞É<strong>Â§ö‰∏™ËøõÁ®ãÊàñÁ∫øÁ®ãÂπ∂ÂèëËÆøÈóÆÊüê‰∏ÄËµÑÊ∫êÁöÑÊú∫Âà∂</strong>„ÄÇÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÈô§‰º†ÁªüÁöÑËÆ°ÁÆóËµÑÊ∫êÔºàCPU„ÄÅRAM„ÄÅI&#x2F;OÔºâÁöÑ‰∫âÁî®‰ª•Â§ñÔºåÊï∞ÊçÆ‰πüÊòØ‰∏ÄÁßç‰æõËÆ∏Â§öÁî®Êà∑ÂÖ±‰∫´ÁöÑËµÑÊ∫ê„ÄÇÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆÂπ∂ÂèëËÆøÈóÆÁöÑ‰∏ÄËá¥ÊÄß„ÄÅÊúâÊïàÊÄßÊòØÊâÄÊúâÊï∞ÊçÆÂ∫ìÂøÖÈ°ªËß£ÂÜ≥ÁöÑ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÈîÅÂÜ≤Á™Å‰πüÊòØÂΩ±ÂìçÊï∞ÊçÆÂ∫ìÂπ∂ÂèëËÆøÈóÆÊÄßËÉΩÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÂõ†Á¥†„ÄÇ‰ªéËøô‰∏™ËßíÂ∫¶Êù•ËØ¥ÔºåÈîÅÂØπÊï∞ÊçÆÂ∫ìËÄåË®ÄÊòæÂæóÂ∞§ÂÖ∂ÈáçË¶ÅÔºå‰πüÊõ¥Âä†Â§çÊùÇ„ÄÇ</p>
<p>MySQL‰∏≠ÁöÑÈîÅÔºåÊåâÁÖßÈîÅÁöÑÁ≤íÂ∫¶ÂàÜÔºåÂàÜ‰∏∫‰ª•‰∏ã‰∏âÁ±ªÔºö</p>
<ul>
<li><strong>ÂÖ®Â±ÄÈîÅ</strong>ÔºöÈîÅÂÆöÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑ<strong>ÊâÄÊúâË°®</strong>„ÄÇ</li>
<li><strong>Ë°®Á∫ßÈîÅ</strong>ÔºöÊØèÊ¨°Êìç‰ΩúÈîÅ‰Ωè<strong>Êï¥Âº†Ë°®</strong>„ÄÇ</li>
<li><strong>Ë°åÁ∫ßÈîÅ</strong>ÔºöÊØèÊ¨°Êìç‰ΩúÈîÅ‰ΩèÂØπÂ∫îÁöÑ<strong>Ë°åÊï∞ÊçÆ</strong></li>
</ul>
<h2 id="4-2-ÂÖ®Â±ÄÈîÅ"><a href="#4-2-ÂÖ®Â±ÄÈîÅ" class="headerlink" title="4.2 ÂÖ®Â±ÄÈîÅ"></a>4.2 ÂÖ®Â±ÄÈîÅ</h2><h3 id="4-2-1-‰ªãÁªç"><a href="#4-2-1-‰ªãÁªç" class="headerlink" title="4.2.1 ‰ªãÁªç"></a>4.2.1 ‰ªãÁªç</h3><p>ÂÖ®Â±ÄÈîÅÂ∞±ÊòØ<strong>ÂØπÊï¥‰∏™Êï∞ÊçÆÂ∫ìÂÆû‰æãÂä†ÈîÅ</strong>ÔºåÂä†ÈîÅÂêéÊï¥‰∏™ÂÆû‰æãÂ∞±Â§Ñ‰∫é<strong>Âè™ËØªÁä∂ÊÄÅ</strong>ÔºåÂêéÁª≠ÁöÑDMLÁöÑÂÜôËØ≠Âè•ÔºåDDLËØ≠Âè•ÔºåÂ∑≤ÁªèÊõ¥Êñ∞Êìç‰ΩúÁöÑ‰∫ãÂä°Êèê‰∫§ËØ≠Âè•ÈÉΩÂ∞ÜË¢´ÈòªÂ°û„ÄÇ</p>
<ul>
<li>ÂÖ∂ÂÖ∏ÂûãÁöÑ‰ΩøÁî®Âú∫ÊôØÊòØÂÅö<strong>ÂÖ®Â∫ìÁöÑÈÄªËæëÂ§á‰ªΩ</strong>ÔºåÂØπÊâÄÊúâÁöÑË°®ËøõË°åÈîÅÂÆöÔºå‰ªéËÄåËé∑Âèñ‰∏ÄËá¥ÊÄßËßÜÂõæÔºå‰øùËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄß„ÄÇ</li>
</ul>
<p><img src="/img/blogs/java/mysql/4.2.1.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="4-2-2-ÁâπÁÇπ"><a href="#4-2-2-ÁâπÁÇπ" class="headerlink" title="4.2.2 ÁâπÁÇπ"></a>4.2.2 ÁâπÁÇπ</h3><ul>
<li>Êï∞ÊçÆÂ∫ì‰∏≠Âä†ÂÖ®Â±ÄÈîÅÔºåÊòØ‰∏Ä‰∏™ÊØîËæÉÈáçÁöÑÊìç‰ΩúÔºåÂ≠òÂú®‰ª•‰∏ãÈóÆÈ¢òÔºö<ul>
<li>Â¶ÇÊûúÂú®‰∏ªÂ∫ì‰∏äÂ§á‰ªΩÔºåÈÇ£‰πàÂú®Â§á‰ªΩÊúüÈó¥ÈÉΩ‰∏çËÉΩÊâßË°åÊõ¥Êñ∞Ôºå‰∏öÂä°Âü∫Êú¨‰∏äÂ∞±ÂæóÂÅúÊëÜ„ÄÇ</li>
<li>Â¶ÇÊûúÂú®‰ªéÂ∫ì‰∏äÂ§á‰ªΩÔºåÈÇ£‰πàÂú®Â§á‰ªΩÊúüÈó¥‰ªéÂ∫ì‰∏çËÉΩÊâßË°å‰∏ªÂ∫ìÂêåÊ≠•ËøáÊù•ÁöÑ‰∫åËøõÂà∂Êó•ÂøóÔºàbinlogÔºâÔºå‰ºöÂØºËá¥‰∏ª‰ªéÂª∂Ëøü„ÄÇ</li>
</ul>
</li>
</ul>
<h2 id="4-3-Ë°®Á∫ßÈîÅ"><a href="#4-3-Ë°®Á∫ßÈîÅ" class="headerlink" title="4.3 Ë°®Á∫ßÈîÅ"></a>4.3 Ë°®Á∫ßÈîÅ</h2><h3 id="4-3-1-‰ªãÁªç"><a href="#4-3-1-‰ªãÁªç" class="headerlink" title="4.3.1 ‰ªãÁªç"></a>4.3.1 ‰ªãÁªç</h3><p>Ë°®Á∫ßÈîÅÔºåÊØèÊ¨°Êìç‰Ωú<strong>ÈîÅ‰ΩèÊï¥Âº†Ë°®</strong>„ÄÇÈîÅÂÆöÁ≤íÂ∫¶Â§ßÔºåÂèëÁîüÈîÅÂÜ≤Á™ÅÁöÑÊ¶ÇÁéáÊúÄÈ´òÔºåÂπ∂ÂèëÂ∫¶ÊúÄ‰Ωé„ÄÇÂ∫îÁî®Âú®MyISAMInnoDB„ÄÅBDBÁ≠âÂ≠òÂÇ®ÂºïÊìé‰∏≠„ÄÇ</p>
<p>ÂØπ‰∫éË°®Á∫ßÈîÅÔºå‰∏ªË¶ÅÂàÜ‰∏∫‰ª•‰∏ã‰∏âÁ±ªÔºö</p>
<ul>
<li><strong>Ë°®ÈîÅ</strong></li>
<li><strong>ÂÖÉÊï∞ÊçÆÈîÅ</strong>Ôºàmeta data lockÔºåMDLÔºâ</li>
<li><strong>ÊÑèÂêëÈîÅ</strong></li>
</ul>
<h3 id="4-3-2-Ë°®ÈîÅ"><a href="#4-3-2-Ë°®ÈîÅ" class="headerlink" title="4.3.2 Ë°®ÈîÅ"></a>4.3.2 Ë°®ÈîÅ</h3><p>ÂØπ‰∫éË°®ÈîÅÔºåÂàÜ‰∏∫‰∏§Á±ªÔºö</p>
<ol>
<li>Ë°®ÂÖ±‰∫´<strong>ËØªÈîÅ</strong>Ôºàread lockÔºâ</li>
<li>Ë°®Áã¨Âç†<strong>ÂÜôÈîÅ</strong>Ôºàwrite lockÔºâ</li>
</ol>
<p>ËØ≠Ê≥ïÔºö<br>Âä†ÈîÅÔºölock tables Ë°®Âêç‚Ä¶ read&#x2F;write„ÄÇ<br>ÈáäÊîæÈîÅÔºöunlock tables &#x2F; ÂÆ¢Êà∑Á´ØÊñ≠ÂºÄËøûÊé•</p>
<p><img src="/img/blogs/java/mysql/4.3.1.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li><strong>ËØªÈîÅ‰∏ç‰ºöÈòªÂ°ûÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÁöÑËØªÔºå‰ΩÜÊòØ‰ºöÈòªÂ°ûÂÜô„ÄÇ</strong></li>
<li><strong>ÂÜôÈîÅÊó¢‰ºöÈòªÂ°ûÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÁöÑËØªÔºåÂèà‰ºöÈòªÂ°ûÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÁöÑÂÜô</strong></li>
</ul>
<h3 id="4-3-3-ÂÖÉÊï∞ÊçÆÈîÅ"><a href="#4-3-3-ÂÖÉÊï∞ÊçÆÈîÅ" class="headerlink" title="4.3.3 ÂÖÉÊï∞ÊçÆÈîÅ"></a>4.3.3 ÂÖÉÊï∞ÊçÆÈîÅ</h3><p>meta data lock , ÂÖÉÊï∞ÊçÆÈîÅÔºåÁÆÄÂÜôMDL„ÄÇ </p>
<p>MDLÂä†ÈîÅËøáÁ®ãÊòØÁ≥ªÁªüËá™Âä®ÊéßÂà∂ÔºåÊó†ÈúÄÊòæÂºè‰ΩøÁî®ÔºåÂú®ËÆøÈóÆ‰∏ÄÂº†Ë°®ÁöÑÊó∂ÂÄô‰ºöËá™Âä®Âä†‰∏ä„ÄÇMDLÈîÅ‰∏ªË¶Å‰ΩúÁî®ÊòØÁª¥Êä§Ë°®ÂÖÉÊï∞ÊçÆÁöÑÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÔºå<strong>Âú®Ë°®‰∏äÊúâÊ¥ªÂä®‰∫ãÂä°ÁöÑÊó∂ÂÄôÔºå‰∏çÂèØ‰ª•ÂØπÂÖÉÊï∞ÊçÆËøõË°åÂÜôÂÖ•Êìç‰Ωú</strong>„ÄÇ‰∏∫‰∫Ü<strong>ÈÅøÂÖçDML‰∏éDDLÂÜ≤Á™Å</strong>Ôºå‰øùËØÅËØªÂÜôÁöÑÊ≠£Á°ÆÊÄß„ÄÇ</p>
<p>ËøôÈáåÁöÑ<strong>ÂÖÉÊï∞ÊçÆ</strong>ÔºåÂ§ßÂÆ∂ÂèØ‰ª•ÁÆÄÂçïÁêÜËß£‰∏∫<strong>Â∞±ÊòØ‰∏ÄÂº†Ë°®ÁöÑË°®ÁªìÊûÑ</strong>„ÄÇ ‰πüÂ∞±ÊòØËØ¥Ôºå<strong>Êüê‰∏ÄÂº†Ë°®Ê∂âÂèäÂà∞Êú™Êèê‰∫§ÁöÑ‰∫ãÂä°Êó∂ÔºåÊòØ‰∏çËÉΩÂ§ü‰øÆÊîπËøôÂº†Ë°®ÁöÑË°®ÁªìÊûÑÁöÑ„ÄÇ</strong></p>
<p>Âú®MySQL5.5‰∏≠ÂºïÂÖ•‰∫ÜMDLÔºåÂΩìÂØπ‰∏ÄÂº†Ë°®ËøõË°åÂ¢ûÂà†ÊîπÊü•ÁöÑÊó∂ÂÄôÔºåÂä†MDLËØªÈîÅ(ÂÖ±‰∫´)ÔºõÂΩìÂØπË°®ÁªìÊûÑËøõË°åÂèòÊõ¥Êìç‰ΩúÁöÑÊó∂ÂÄôÔºåÂä†MDLÂÜôÈîÅ(Êéí‰ªñ)</p>
<h3 id="4-3-4-ÊÑèÂêëÈîÅ"><a href="#4-3-4-ÊÑèÂêëÈîÅ" class="headerlink" title="4.3.4 ÊÑèÂêëÈîÅ"></a>4.3.4 ÊÑèÂêëÈîÅ</h3><p>‰∏∫‰∫Ü<strong>ÈÅøÂÖçDMLÂú®ÊâßË°åÊó∂ÔºåÂä†ÁöÑË°åÈîÅ‰∏éË°®ÈîÅÁöÑÂÜ≤Á™Å</strong>ÔºåÂú®InnoDB‰∏≠ÂºïÂÖ•‰∫ÜÊÑèÂêëÈîÅÔºå<strong>‰ΩøÂæóË°®ÈîÅ‰∏çÁî®Ê£ÄÊü•ÊØèË°åÊï∞ÊçÆÊòØÂê¶Âä†ÈîÅ</strong>Ôºå‰ΩøÁî®ÊÑèÂêëÈîÅÊù•ÂáèÂ∞ëË°®ÈîÅÁöÑÊ£ÄÊü•</p>
<p>Êúâ‰∫ÜÊÑèÂêëÈîÅ‰πãÂêé :</p>
<ol>
<li>ÂÆ¢Êà∑Á´Ø‰∏ÄÔºåÂú®ÊâßË°åDMLÊìç‰ΩúÊó∂Ôºå‰ºöÂØπÊ∂âÂèäÁöÑË°å<strong>Âä†Ë°åÈîÅ</strong>ÔºåÂêåÊó∂‰πü‰ºöÂØπËØ•Ë°®<strong>Âä†‰∏äÊÑèÂêëÈîÅ</strong></li>
<li>ËÄåÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÔºåÂú®ÂØπËøôÂº†Ë°®<strong>Âä†Ë°®ÈîÅ</strong>ÁöÑÊó∂ÂÄôÔºå<strong>‰ºöÊ†πÊçÆËØ•Ë°®‰∏äÊâÄÂä†ÁöÑÊÑèÂêëÈîÅÊù•Âà§ÂÆöÊòØÂê¶ÂèØ‰ª•ÊàêÂäüÂä†Ë°®ÈîÅÔºåËÄå‰∏çÁî®ÈÄêË°åÂà§Êñ≠Ë°åÈîÅÊÉÖÂÜµ‰∫Ü„ÄÇ</strong></li>
</ol>
<h2 id="4-4-Ë°åÁ∫ßÈîÅ"><a href="#4-4-Ë°åÁ∫ßÈîÅ" class="headerlink" title="4.4 Ë°åÁ∫ßÈîÅ"></a>4.4 Ë°åÁ∫ßÈîÅ</h2><h3 id="4-4-1-‰ªãÁªç"><a href="#4-4-1-‰ªãÁªç" class="headerlink" title="4.4.1 ‰ªãÁªç"></a>4.4.1 ‰ªãÁªç</h3><p>Ë°åÁ∫ßÈîÅÔºåÊØèÊ¨°Êìç‰Ωú<strong>ÈîÅ‰ΩèÂØπÂ∫îÁöÑË°åÊï∞ÊçÆ</strong>„ÄÇÈîÅÂÆöÁ≤íÂ∫¶ÊúÄÂ∞èÔºåÂèëÁîüÈîÅÂÜ≤Á™ÅÁöÑÊ¶ÇÁéáÊúÄ‰ΩéÔºåÂπ∂ÂèëÂ∫¶ÊúÄÈ´ò„ÄÇÂ∫îÁî®Âú®InnoDBÂ≠òÂÇ®ÂºïÊìé‰∏≠„ÄÇ</p>
<p>InnoDBÁöÑÊï∞ÊçÆÊòØÂü∫‰∫éÁ¥¢ÂºïÁªÑÁªáÁöÑÔºåË°åÈîÅÊòØÈÄöËøáÂØπÁ¥¢Âºï‰∏äÁöÑÁ¥¢ÂºïÈ°πÂä†ÈîÅÊù•ÂÆûÁé∞ÁöÑÔºåËÄå‰∏çÊòØÂØπËÆ∞ÂΩïÂä†ÁöÑÈîÅ„ÄÇÂØπ‰∫éË°åÁ∫ßÈîÅÔºå‰∏ªË¶ÅÂàÜ‰∏∫‰ª•‰∏ã‰∏âÁ±ªÔºö</p>
<ul>
<li><strong>Ë°åÈîÅ</strong>ÔºàRecord LockÔºâÔºö<strong>ÈîÅÂÆöÂçï‰∏™Ë°åËÆ∞ÂΩïÁöÑÈîÅ</strong>ÔºåÈò≤Ê≠¢ÂÖ∂‰ªñ‰∫ãÂä°ÂØπÊ≠§Ë°åËøõË°åupdateÂíådelete„ÄÇÂú®RC„ÄÅRRÈöîÁ¶ªÁ∫ßÂà´‰∏ãÈÉΩÊîØÊåÅ„ÄÇ</li>
<li><strong>Èó¥ÈöôÈîÅ</strong>ÔºàGap LockÔºâÔºö<strong>ÈîÅÂÆöÁ¥¢ÂºïËÆ∞ÂΩïÈó¥Èöô</strong>Ôºà‰∏çÂê´ËØ•ËÆ∞ÂΩïÔºâÔºåÁ°Æ‰øùÁ¥¢ÂºïËÆ∞ÂΩïÈó¥Èöô‰∏çÂèòÔºåÈò≤Ê≠¢ÂÖ∂‰ªñ‰∫ãÂä°Âú®Ëøô‰∏™Èó¥ÈöôËøõË°åinsertÔºå‰∫ßÁîüÂπªËØª„ÄÇÂú®RRÈöîÁ¶ªÁ∫ßÂà´‰∏ãÈÉΩÊîØÊåÅ„ÄÇ</li>
<li><strong>‰∏¥ÈîÆÈîÅ</strong>ÔºàNext-Key LockÔºâÔºö<strong>Ë°åÈîÅÂíåÈó¥ÈöôÈîÅÁªÑÂêà</strong>ÔºåÂêåÊó∂ÈîÅ‰ΩèÊï∞ÊçÆÔºåÂπ∂ÈîÅ‰ΩèÊï∞ÊçÆÂâçÈù¢ÁöÑÈó¥ÈöôGap„ÄÇÂú®RRÈöîÁ¶ªÁ∫ßÂà´‰∏ãÊîØÊåÅ„ÄÇ</li>
</ul>
<h3 id="4-4-2-Ë°åÈîÅ"><a href="#4-4-2-Ë°åÈîÅ" class="headerlink" title="4.4.2 Ë°åÈîÅ"></a>4.4.2 Ë°åÈîÅ</h3><p>InnoDBÂÆûÁé∞‰∫Ü‰ª•‰∏ã‰∏§ÁßçÁ±ªÂûãÁöÑË°åÈîÅÔºö</p>
<ul>
<li><strong>ÂÖ±‰∫´ÈîÅ</strong>ÔºàSÔºâÔºöÂÖÅËÆ∏‰∏Ä‰∏™‰∫ãÂä°ÂéªËØª‰∏ÄË°åÔºåÈòªÊ≠¢ÂÖ∂‰ªñ‰∫ãÂä°Ëé∑ÂæóÁõ∏ÂêåÊï∞ÊçÆÈõÜÁöÑÊéíÂÆÉÈîÅ„ÄÇ</li>
<li><strong>Êéí‰ªñÈîÅ</strong>ÔºàXÔºâÔºöÂÖÅËÆ∏Ëé∑ÂèñÊéí‰ªñÈîÅÁöÑ‰∫ãÂä°Êõ¥Êñ∞Êï∞ÊçÆÔºåÈòªÊ≠¢ÂÖ∂‰ªñ‰∫ãÂä°Ëé∑ÂæóÁõ∏ÂêåÊï∞ÊçÆÈõÜÁöÑÂÖ±‰∫´ÈîÅÂíåÊéí‰ªñÈîÅ„ÄÇ</li>
</ul>
<p><strong>‰∏§ÁßçË°åÈîÅÁöÑÂÖºÂÆπÊÉÖÂÜµÂ¶Ç‰∏ãÔºö</strong></p>
<table>
<thead>
<tr>
<th>ÂΩìÂâçÈîÅÁ±ªÂûã\ËØ∑Ê±ÇÈîÅÁ±ªÂûã</th>
<th>SÔºàÂÖ±‰∫´ÈîÅÔºâ</th>
<th>XÔºàÊéí‰ªñÈîÅÔºâ</th>
</tr>
</thead>
<tbody><tr>
<td>SÔºàÂÖ±‰∫´ÈîÅÔºâ</td>
<td>ÂÖºÂÆπ</td>
<td>ÂÜ≤Á™Å</td>
</tr>
<tr>
<td>XÔºàÊéí‰ªñÈîÅÔºâ</td>
<td>ÂÜ≤Á™Å</td>
<td>ÂÜ≤Á™Å</td>
</tr>
</tbody></table>
<p><strong>Â∏∏ËßÅÁöÑSQLËØ≠Âè•ÔºåÂú®ÊâßË°åÊó∂ÔºåÊâÄÂä†ÁöÑË°åÈîÅÂ¶Ç‰∏ã</strong>Ôºö</p>
<table>
<thead>
<tr>
<th>SQL ËØ≠Âè•</th>
<th>Ë°åÈîÅÁ±ªÂûã</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody><tr>
<td>INSERT ‚Ä¶</td>
<td>Êéí‰ªñÈîÅ</td>
<td>Ëá™Âä®Âä†ÈîÅ</td>
</tr>
<tr>
<td>UPDATE ‚Ä¶</td>
<td>Êéí‰ªñÈîÅ</td>
<td>Ëá™Âä®Âä†ÈîÅ</td>
</tr>
<tr>
<td>DELETE ‚Ä¶</td>
<td>Êéí‰ªñÈîÅ</td>
<td>Ëá™Âä®Âä†ÈîÅ</td>
</tr>
<tr>
<td>SELECTÔºàÊ≠£Â∏∏Ôºâ</td>
<td>Êó†ÈîÅ</td>
<td></td>
</tr>
<tr>
<td>SELECT ‚Ä¶ LOCK IN SHARE MODE</td>
<td>ÂÖ±‰∫´ÈîÅ</td>
<td>ÈúÄË¶ÅÊâãÂä®Âú® SELECT ‰πãÂêéÂä† LOCK IN SHARE MODE</td>
</tr>
<tr>
<td>SELECT ‚Ä¶ FOR UPDATE</td>
<td>Êéí‰ªñÈîÅ</td>
<td>ÈúÄË¶ÅÊâãÂä®Âú® SELECT ‰πãÂêéÂä† FOR UPDATE</td>
</tr>
</tbody></table>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåInnoDBÂú® REPEATABLE READ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ËøêË°åÔºåInnoDB‰ΩøÁî® next-key ÈîÅËøõË°åÊêúÁ¥¢ÂíåÁ¥¢ÂºïÊâ´ÊèèÔºå‰ª•Èò≤Ê≠¢ÂπªËØª„ÄÇ</p>
<ul>
<li>ÈíàÂØπÂîØ‰∏ÄÁ¥¢ÂºïËøõË°åÊ£ÄÁ¥¢Êó∂ÔºåÂØπÂ∑≤Â≠òÂú®ÁöÑËÆ∞ÂΩïËøõË°åÁ≠âÂÄºÂåπÈÖçÊó∂ÔºåÂ∞Ü‰ºö<strong>Ëá™Âä®‰ºòÂåñ‰∏∫Ë°åÈîÅ</strong>„ÄÇ</li>
<li>InnoDBÁöÑË°åÈîÅÊòØÈíàÂØπ‰∫éÁ¥¢ÂºïÂä†ÁöÑÈîÅÔºå<strong>‰∏çÈÄöËøáÁ¥¢ÂºïÊù°‰ª∂Ê£ÄÁ¥¢Êï∞ÊçÆ</strong>ÔºåÈÇ£‰πàInnoDB<strong>Â∞ÜÂØπË°®‰∏≠ÁöÑÊâÄÊúâËÆ∞ÂΩïÂä†ÈîÅÔºåÊ≠§Êó∂Â∞±‰ºöÂçáÁ∫ß‰∏∫Ë°®ÈîÅ</strong></li>
</ul>
<h3 id="4-4-3-Èó¥ÈöôÈîÅ-‰∏¥ÈîÆÈîÅ"><a href="#4-4-3-Èó¥ÈöôÈîÅ-‰∏¥ÈîÆÈîÅ" class="headerlink" title="4.4.3 Èó¥ÈöôÈîÅ&amp;‰∏¥ÈîÆÈîÅ"></a>4.4.3 Èó¥ÈöôÈîÅ&amp;‰∏¥ÈîÆÈîÅ</h3><p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåInnoDBÂú® REPEATABLE READ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ËøêË°åÔºåInnoDB‰ΩøÁî® next-key ÈîÅËøõË°åÊêúÁ¥¢ÂíåÁ¥¢ÂºïÊâ´ÊèèÔºå‰ª•Èò≤Ê≠¢ÂπªËØª„ÄÇ</p>
<ul>
<li>Á¥¢Âºï‰∏äÁöÑÁ≠âÂÄºÊü•ËØ¢(ÂîØ‰∏ÄÁ¥¢Âºï)Ôºå<strong>Áªô‰∏çÂ≠òÂú®ÁöÑËÆ∞ÂΩïÂä†ÈîÅÊó∂, ‰ºòÂåñ‰∏∫Èó¥ÈöôÈîÅ</strong> </li>
<li>Á¥¢Âºï‰∏äÁöÑÁ≠âÂÄºÊü•ËØ¢(ÈùûÂîØ‰∏ÄÊôÆÈÄöÁ¥¢Âºï)ÔºåÂêëÂè≥ÈÅçÂéÜÊó∂ÊúÄÂêé‰∏Ä‰∏™ÂÄº‰∏çÊª°Ë∂≥Êü•ËØ¢ÈúÄÊ±ÇÊó∂Ôºånext-key lock ÈÄÄÂåñ‰∏∫Èó¥ÈöôÈîÅ„ÄÇ</li>
<li>Á¥¢Âºï‰∏äÁöÑËåÉÂõ¥Êü•ËØ¢(ÂîØ‰∏ÄÁ¥¢Âºï)‚Äì‰ºöËÆøÈóÆÂà∞‰∏çÊª°Ë∂≥Êù°‰ª∂ÁöÑÁ¨¨‰∏Ä‰∏™ÂÄº‰∏∫Ê≠¢„ÄÇ</li>
</ul>
<p>Ê≥®ÊÑèÔºö<strong>Èó¥ÈöôÈîÅÂîØ‰∏ÄÁõÆÁöÑÊòØÈò≤Ê≠¢ÂÖ∂‰ªñ‰∫ãÂä°ÊèíÂÖ•Èó¥Èöô„ÄÇÈó¥ÈöôÈîÅÂèØ‰ª•ÂÖ±Â≠òÔºå‰∏Ä‰∏™‰∫ãÂä°ÈááÁî®ÁöÑÈó¥ÈöôÈîÅ‰∏ç‰ºöÈòªÊ≠¢Âè¶‰∏Ä‰∏™‰∫ãÂä°Âú®Âêå‰∏ÄÈó¥Èöô‰∏äÈááÁî®Èó¥ÈöôÈîÅ</strong></p>
<h1 id="5-InnoDBÂºïÊìé"><a href="#5-InnoDBÂºïÊìé" class="headerlink" title="5. InnoDBÂºïÊìé"></a>5. InnoDBÂºïÊìé</h1><h2 id="5-1-ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ"><a href="#5-1-ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ" class="headerlink" title="5.1 ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ"></a>5.1 ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ</h2><p><img src="/img/blogs/java/mysql/2.3.1.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="/img/blogs/java/mysql/5.1.1.png" srcset="/img/loading.gif" lazyload></p>
<ol>
<li><strong>Ë°®Á©∫Èó¥</strong><ul>
<li>Ë°®Á©∫Èó¥ÊòØInnoDBÂ≠òÂÇ®ÂºïÊìéÈÄªËæëÁªìÊûÑÁöÑÊúÄÈ´òÂ±ÇÔºå Â¶ÇÊûúÁî®Êà∑ÂêØÁî®‰∫ÜÂèÇÊï∞ innodb_file_per_table(Âú®8.0ÁâàÊú¨‰∏≠ÈªòËÆ§ÂºÄÂêØ) ÔºåÂàôÊØèÂº†Ë°®ÈÉΩ‰ºöÊúâ‰∏Ä‰∏™Ë°®Á©∫Èó¥Ôºàxxx.ibdÔºâÔºå‰∏Ä‰∏™mysqlÂÆû‰æãÂèØ‰ª•ÂØπÂ∫îÂ§ö‰∏™Ë°®Á©∫Èó¥ÔºåÁî®‰∫éÂ≠òÂÇ®ËÆ∞ÂΩï„ÄÅÁ¥¢ÂºïÁ≠âÊï∞ÊçÆ„ÄÇ</li>
</ul>
</li>
<li><strong>ÊÆµ</strong><ul>
<li>ÊÆµÔºåÂàÜ‰∏∫<strong>Êï∞ÊçÆÊÆµ</strong>ÔºàLeaf node segmentÔºâ„ÄÅ<strong>Á¥¢ÂºïÊÆµ</strong>ÔºàNon-leaf node segmentÔºâ„ÄÅ<strong>ÂõûÊªöÊÆµ</strong>ÔºàRollback segmentÔºâÔºåInnoDBÊòØÁ¥¢ÂºïÁªÑÁªáË°®ÔºåÊï∞ÊçÆÊÆµÂ∞±ÊòØB+Ê†ëÁöÑÂè∂Â≠êËäÇÁÇπÔºå Á¥¢ÂºïÊÆµÂç≥‰∏∫B+Ê†ëÁöÑÈùûÂè∂Â≠êËäÇÁÇπ„ÄÇÊÆµÁî®Êù•ÁÆ°ÁêÜÂ§ö‰∏™ExtentÔºàÂå∫Ôºâ„ÄÇ</li>
</ul>
</li>
<li><strong>Âå∫</strong><ul>
<li>Âå∫ÔºåË°®Á©∫Èó¥ÁöÑÂçïÂÖÉÁªìÊûÑÔºåÊØè‰∏™Âå∫ÁöÑÂ§ßÂ∞è‰∏∫1M„ÄÇ ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå InnoDBÂ≠òÂÇ®ÂºïÊìéÈ°µÂ§ßÂ∞è‰∏∫16KÔºå Âç≥‰∏Ä‰∏™Âå∫‰∏≠‰∏ÄÂÖ±Êúâ64‰∏™ËøûÁª≠ÁöÑÈ°µ„ÄÇ</li>
</ul>
</li>
<li><strong>È°µ</strong><ul>
<li>È°µÔºå<strong>ÊòØInnoDB Â≠òÂÇ®ÂºïÊìéÁ£ÅÁõòÁÆ°ÁêÜÁöÑÊúÄÂ∞èÂçïÂÖÉ</strong>ÔºåÊØè‰∏™È°µÁöÑÂ§ßÂ∞èÈªòËÆ§‰∏∫ 16KB„ÄÇ‰∏∫‰∫Ü‰øùËØÅÈ°µÁöÑËøûÁª≠ÊÄßÔºåInnoDB Â≠òÂÇ®ÂºïÊìéÊØèÊ¨°‰ªéÁ£ÅÁõòÁî≥ËØ∑ 4-5 ‰∏™Âå∫„ÄÇ</li>
</ul>
</li>
<li><strong>Ë°å</strong><ul>
<li>Ë°åÔºåInnoDB <strong>Â≠òÂÇ®ÂºïÊìéÊï∞ÊçÆÊòØÊåâË°åËøõË°åÂ≠òÊîæÁöÑ</strong></li>
<li>Âú®Ë°å‰∏≠ÔºåÈªòËÆ§Êúâ‰∏§‰∏™ÈöêËóèÂ≠óÊÆµÔºö <ul>
<li>Trx_idÔºöÊØèÊ¨°ÂØπÊüêÊù°ËÆ∞ÂΩïËøõË°åÊîπÂä®Êó∂ÔºåÈÉΩ‰ºöÊääÂØπÂ∫îÁöÑ<strong>‰∫ãÂä°id</strong>ËµãÂÄºÁªôtrx_idÈöêËóèÂàó„ÄÇ</li>
<li>Roll_pointerÔºöÊØèÊ¨°ÂØπÊüêÊù°ÂºïËÆ∞ÂΩïËøõË°åÊîπÂä®Êó∂ÔºåÈÉΩ‰ºöÊääÊóßÁöÑÁâàÊú¨ÂÜôÂÖ•Âà∞undoÊó•Âøó‰∏≠ÔºåÁÑ∂ÂêéËøô‰∏™ÈöêËóèÂàó<strong>Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™ÊåáÈíà</strong>ÔºåÂèØ‰ª•ÈÄöËøáÂÆÉÊù•ÊâæÂà∞ËØ•ËÆ∞ÂΩï‰øÆÊîπÂâçÁöÑ‰ø°ÊÅØ„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="5-2-Êû∂ÊûÑ"><a href="#5-2-Êû∂ÊûÑ" class="headerlink" title="5.2 Êû∂ÊûÑ"></a>5.2 Êû∂ÊûÑ</h2><h3 id="5-2-1-Ê¶ÇËø∞"><a href="#5-2-1-Ê¶ÇËø∞" class="headerlink" title="5.2.1 Ê¶ÇËø∞"></a>5.2.1 Ê¶ÇËø∞</h3><p>MySQL5.5 ÁâàÊú¨ÂºÄÂßãÔºåÈªòËÆ§‰ΩøÁî®InnoDBÂ≠òÂÇ®ÂºïÊìéÔºåÂÆÉÊìÖÈïø‰∫ãÂä°Â§ÑÁêÜÔºåÂÖ∑ÊúâÂ¥©Ê∫ÉÊÅ¢Â§çÁâπÊÄßÔºåÂú®Êó•Â∏∏ÂºÄÂèë<br>‰∏≠‰ΩøÁî®ÈùûÂ∏∏ÂπøÊ≥õ„ÄÇ‰∏ãÈù¢ÊòØInnoDBÊû∂ÊûÑÂõæÔºå<strong>Â∑¶‰æß‰∏∫ÂÜÖÂ≠òÁªìÊûÑÔºåÂè≥‰æß‰∏∫Á£ÅÁõòÁªìÊûÑ</strong>„ÄÇ</p>
<p><img src="/img/blogs/java/mysql/5.2.1.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="5-2-2-ÂÜÖÂ≠òÁªìÊûÑ"><a href="#5-2-2-ÂÜÖÂ≠òÁªìÊûÑ" class="headerlink" title="5.2.2 ÂÜÖÂ≠òÁªìÊûÑ"></a>5.2.2 ÂÜÖÂ≠òÁªìÊûÑ</h3><p>Âú®Â∑¶‰æßÁöÑÂÜÖÂ≠òÁªìÊûÑ‰∏≠Ôºå‰∏ªË¶ÅÂàÜ‰∏∫Ëøô‰πàÂõõÂ§ßÂùóÂÑøÔºö Buffer Pool„ÄÅChange Buffer„ÄÅAdaptive Hash Index„ÄÅLog Buffer„ÄÇ Êé•‰∏ãÊù•‰ªãÁªç‰∏Ä‰∏ãËøôÂõõ‰∏™ÈÉ®ÂàÜ„ÄÇ</p>
<h4 id="Buffer-Pool-ÁºìÂÜ≤Âå∫"><a href="#Buffer-Pool-ÁºìÂÜ≤Âå∫" class="headerlink" title="Buffer Pool ÁºìÂÜ≤Âå∫"></a>Buffer Pool ÁºìÂÜ≤Âå∫</h4><p>InnoDBÂ≠òÂÇ®ÂºïÊìéÂü∫‰∫éÁ£ÅÁõòÊñá‰ª∂Â≠òÂÇ®Ôºå<strong>ËÆøÈóÆÁâ©ÁêÜÁ°¨ÁõòÂíåÂú®ÂÜÖÂ≠ò‰∏≠ËøõË°åËÆøÈóÆÔºåÈÄüÂ∫¶Áõ∏Â∑ÆÂæàÂ§ß</strong>Ôºå‰∏∫‰∫ÜÂ∞ΩÂèØËÉΩÂº•Ë°•Ëøô‰∏§ËÄÖ‰πãÈó¥ÁöÑI&#x2F;OÊïàÁéáÁöÑÂ∑ÆÂÄºÔºåÂ∞±ÈúÄË¶Å<strong>ÊääÁªèÂ∏∏‰ΩøÁî®ÁöÑÊï∞ÊçÆÂä†ËΩΩÂà∞ÁºìÂÜ≤Ê±†‰∏≠</strong>ÔºåÈÅøÂÖçÊØèÊ¨°ËÆøÈóÆÈÉΩËøõË°åÁ£ÅÁõòI&#x2F;O„ÄÇ</p>
<p>Âú®InnoDBÁöÑÁºìÂÜ≤Ê±†‰∏≠‰∏ç‰ªÖÁºìÂ≠ò‰∫ÜÁ¥¢ÂºïÈ°µÂíåÊï∞ÊçÆÈ°µÔºåËøòÂåÖÂê´‰∫ÜundoÈ°µ„ÄÅÊèíÂÖ•ÁºìÂ≠ò„ÄÅËá™ÈÄÇÂ∫îÂìàÂ∏åÁ¥¢Âºï‰ª•ÂèäInnoDBÁöÑÈîÅ‰ø°ÊÅØÁ≠âÁ≠â„ÄÇ</p>
<p>ÁºìÂÜ≤Ê±† Buffer PoolÔºåÊòØ‰∏ªÂÜÖÂ≠ò‰∏≠ÁöÑ‰∏Ä‰∏™Âå∫ÂüüÔºåÈáåÈù¢ÂèØ‰ª•Áºì<strong>Â≠òÁ£ÅÁõò‰∏äÁªèÂ∏∏Êìç‰ΩúÁöÑÁúüÂÆûÊï∞ÊçÆ</strong>ÔºåÂú®ÊâßË°åÂ¢ûÂà†ÊîπÊü•Êìç‰ΩúÊó∂ÔºåÂÖàÊìç‰ΩúÁºìÂÜ≤Ê±†‰∏≠ÁöÑÊï∞ÊçÆÔºàËã•ÁºìÂÜ≤Ê±†Ê≤°ÊúâÊï∞ÊçÆÔºåÂàô‰ªéÁ£ÅÁõòÂä†ËΩΩÂπ∂ÁºìÂ≠òÔºâÔºåÁÑ∂ÂêéÂÜç‰ª•‰∏ÄÂÆöÈ¢ëÁéáÂà∑Êñ∞Âà∞Á£ÅÁõòÔºå‰ªéËÄå<strong>ÂáèÂ∞ëÁ£ÅÁõòIOÔºåÂä†Âø´Â§ÑÁêÜÈÄüÂ∫¶</strong>„ÄÇ</p>
<p>ÁºìÂÜ≤Ê±†‰ª•<strong>PageÈ°µ‰∏∫Âçï‰Ωç</strong>ÔºåÂ∫ïÂ±ÇÈááÁî®ÈìæË°®Êï∞ÊçÆÁªìÊûÑÁÆ°ÁêÜPage„ÄÇÊ†πÊçÆÁä∂ÊÄÅÔºåÂ∞ÜPageÂàÜ‰∏∫‰∏âÁßçÁ±ªÂûãÔºö</p>
<ul>
<li>free pageÔºöÁ©∫Èó≤pageÔºåÊú™Ë¢´‰ΩøÁî®„ÄÇ</li>
<li>clean pageÔºöË¢´‰ΩøÁî®pageÔºåÊï∞ÊçÆÊ≤°ÊúâË¢´‰øÆÊîπËøá„ÄÇ</li>
<li>dirty pageÔºöËÑèÈ°µÔºåË¢´‰ΩøÁî®pageÔºåÊï∞ÊçÆË¢´‰øÆÊîπËøáÔºå‰πü‰∏≠Êï∞ÊçÆ‰∏éÁ£ÅÁõòÁöÑÊï∞ÊçÆ‰∫ßÁîü‰∫Ü‰∏ç‰∏ÄËá¥„ÄÇ</li>
</ul>
<h4 id="Change-Buffer-Êõ¥ÊîπÁºìÂÜ≤Âå∫"><a href="#Change-Buffer-Êõ¥ÊîπÁºìÂÜ≤Âå∫" class="headerlink" title="Change Buffer Êõ¥ÊîπÁºìÂÜ≤Âå∫"></a>Change Buffer Êõ¥ÊîπÁºìÂÜ≤Âå∫</h4><p>Change BufferÔºåÊõ¥ÊîπÁºìÂÜ≤Âå∫ÔºàÈíàÂØπ‰∫éÈùûÂîØ‰∏Ä‰∫åÁ∫ßÁ¥¢ÂºïÈ°µÔºâÔºåÂú®ÊâßË°åDMLËØ≠Âè•Êó∂ÔºåÂ¶ÇÊûúËøô‰∫õÊï∞ÊçÆPageÊ≤°ÊúâÂú®Buffer Pool‰∏≠Ôºå‰∏ç‰ºöÁõ¥Êé•Êìç‰ΩúÁ£ÅÁõòÔºåËÄå‰ºöÂ∞ÜÊï∞ÊçÆÂèòÊõ¥Â≠òÂú®Êõ¥ÊîπÁºìÂÜ≤Âå∫ Change Buffer ‰∏≠ÔºåÂú®Êú™Êù•Êï∞ÊçÆË¢´ËØªÂèñÊó∂ÔºåÂÜçÂ∞ÜÊï∞ÊçÆÂêàÂπ∂ÊÅ¢Â§çÂà∞Buffer Pool‰∏≠ÔºåÂÜçÂ∞ÜÂêàÂπ∂ÂêéÁöÑÊï∞ÊçÆÂà∑Êñ∞Âà∞Á£ÅÁõò‰∏≠„ÄÇ</p>
<p><strong>Change BufferÁöÑÊÑè‰πâÊòØ‰ªÄ‰πàÂë¢?</strong><br>‰∏éËÅöÈõÜÁ¥¢Âºï‰∏çÂêåÔºå‰∫åÁ∫ßÁ¥¢ÂºïÈÄöÂ∏∏ÊòØÈùûÂîØ‰∏ÄÁöÑÔºåÂπ∂‰∏î‰ª•Áõ∏ÂØπÈöèÊú∫ÁöÑÈ°∫Â∫èÊèíÂÖ•‰∫åÁ∫ßÁ¥¢Âºï„ÄÇÂêåÊ†∑ÔºåÂà†Èô§ÂíåÊõ¥Êñ∞ÂèØËÉΩ‰ºöÂΩ±ÂìçÁ¥¢ÂºïÊ†ë‰∏≠‰∏çÁõ∏ÈÇªÁöÑ‰∫åÁ∫ßÁ¥¢ÂºïÈ°µÔºåÂ¶ÇÊûúÊØè‰∏ÄÊ¨°ÈÉΩÊìç‰ΩúÁ£ÅÁõòÔºå‰ºöÈÄ†ÊàêÂ§ßÈáèÁöÑÁ£ÅÁõòIO„ÄÇ<strong>Êúâ‰∫ÜChangeBuffer‰πãÂêéÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÁºìÂÜ≤Ê±†‰∏≠ËøõË°åÂêàÂπ∂Â§ÑÁêÜÔºåÂáèÂ∞ëÁ£ÅÁõòIO</strong></p>
<h4 id="Adaptive-Hash-IndexËá™ÈÄÇÂ∫îÂìàÂ∏åÁ¥¢Âºï"><a href="#Adaptive-Hash-IndexËá™ÈÄÇÂ∫îÂìàÂ∏åÁ¥¢Âºï" class="headerlink" title="Adaptive Hash IndexËá™ÈÄÇÂ∫îÂìàÂ∏åÁ¥¢Âºï"></a>Adaptive Hash IndexËá™ÈÄÇÂ∫îÂìàÂ∏åÁ¥¢Âºï</h4><p>Ëá™ÈÄÇÂ∫îhash<strong>Á¥¢ÂºïÔºåÁî®‰∫é‰ºòÂåñÂØπBuffer PoolÊï∞ÊçÆÁöÑÊü•ËØ¢</strong>„ÄÇMySQLÁöÑinnoDBÂºïÊìé‰∏≠ËôΩÁÑ∂Ê≤°ÊúâÁõ¥Êé•ÊîØÊåÅhashÁ¥¢ÂºïÔºå‰ΩÜÊòØÁªôÊàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÂäüËÉΩÂ∞±ÊòØËøô‰∏™Ëá™ÈÄÇÂ∫îhashÁ¥¢Âºï„ÄÇÂõ†‰∏∫ÂâçÈù¢Êàë‰ª¨ËÆ≤Âà∞ËøáÔºåhashÁ¥¢ÂºïÂú®ËøõË°åÁ≠âÂÄºÂåπÈÖçÊó∂Ôºå‰∏ÄËà¨ÊÄßËÉΩÊòØË¶ÅÈ´ò‰∫éB+Ê†ëÁöÑÔºåÂõ†‰∏∫hashÁ¥¢Âºï‰∏ÄËà¨Âè™ÈúÄË¶Å‰∏ÄÊ¨°IOÂç≥ÂèØÔºåËÄåB+Ê†ëÔºåÂèØËÉΩÈúÄË¶ÅÂá†Ê¨°ÂåπÈÖçÔºåÊâÄ‰ª•hashÁ¥¢ÂºïÁöÑÊïàÁéáË¶ÅÈ´òÔºå‰ΩÜÊòØhashÁ¥¢ÂºïÂèà‰∏çÈÄÇÂêàÂÅöËåÉÂõ¥Êü•ËØ¢„ÄÅÊ®°Á≥äÂåπÈÖçÁ≠â„ÄÇ</p>
<p>InnoDBÂ≠òÂÇ®ÂºïÊìé‰ºöÁõëÊéßÂØπË°®‰∏äÂêÑÁ¥¢ÂºïÈ°µÁöÑÊü•ËØ¢ÔºåÂ¶ÇÊûúËßÇÂØüÂà∞Âú®ÁâπÂÆöÁöÑÊù°‰ª∂‰∏ãhashÁ¥¢ÂºïÂèØ‰ª•ÊèêÂçáÈÄüÂ∫¶ÔºåÂàôÂª∫Á´ãhashÁ¥¢ÂºïÔºåÁß∞‰πã‰∏∫Ëá™ÈÄÇÂ∫îhashÁ¥¢Âºï„ÄÇ</p>
<h4 id="Log-BufferÊó•ÂøóÁºìÂÜ≤Âå∫"><a href="#Log-BufferÊó•ÂøóÁºìÂÜ≤Âå∫" class="headerlink" title="Log BufferÊó•ÂøóÁºìÂÜ≤Âå∫"></a>Log BufferÊó•ÂøóÁºìÂÜ≤Âå∫</h4><p>Log BufferÔºöÊó•ÂøóÁºìÂÜ≤Âå∫ÔºåÁî®Êù•<strong>‰øùÂ≠òË¶ÅÂÜôÂÖ•Âà∞Á£ÅÁõò‰∏≠ÁöÑlogÊó•ÂøóÊï∞ÊçÆ</strong>Ôºàredo log „ÄÅundo logÔºâÔºåÈªòËÆ§Â§ßÂ∞è‰∏∫ 16MBÔºåÊó•ÂøóÁºìÂÜ≤Âå∫ÁöÑÊó•Âøó‰ºöÂÆöÊúüÂà∑Êñ∞Âà∞Á£ÅÁõò‰∏≠„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÊõ¥Êñ∞„ÄÅÊèíÂÖ•ÊàñÂà†Èô§ËÆ∏Â§öË°åÁöÑ‰∫ãÂä°Ôºå<strong>Â¢ûÂä†Êó•ÂøóÁºìÂÜ≤Âå∫ÁöÑÂ§ßÂ∞èÂèØ‰ª•ËäÇÁúÅÁ£ÅÁõò I&#x2F;O„ÄÇ</strong></p>
<h3 id="5-2-3-Á£ÅÁõòÁªìÊûÑ"><a href="#5-2-3-Á£ÅÁõòÁªìÊûÑ" class="headerlink" title="5.2.3 Á£ÅÁõòÁªìÊûÑ"></a>5.2.3 Á£ÅÁõòÁªìÊûÑ</h3><p>ÂÜçÊù•ÁúãÁúãInnoDB‰ΩìÁ≥ªÁªìÊûÑÁöÑÂè≥ËæπÈÉ®ÂàÜÔºå‰πüÂ∞±ÊòØÁ£ÅÁõòÁªìÊûÑ</p>
<h4 id="System-Tablespace"><a href="#System-Tablespace" class="headerlink" title="System Tablespace"></a>System Tablespace</h4><p><strong>Á≥ªÁªüË°®Á©∫Èó¥ÊòØÊõ¥ÊîπÁºìÂÜ≤Âå∫ÁöÑÂ≠òÂÇ®Âå∫Âüü</strong>„ÄÇÂ¶ÇÊûúË°®ÊòØÂú®Á≥ªÁªüË°®Á©∫Èó¥ËÄå‰∏çÊòØÊØè‰∏™Ë°®Êñá‰ª∂ÊàñÈÄöÁî®Ë°®Á©∫Èó¥‰∏≠ÂàõÂª∫ÁöÑÔºåÂÆÉ‰πüÂèØËÉΩÂåÖÂê´Ë°®ÂíåÁ¥¢ÂºïÊï∞ÊçÆ„ÄÇ(Âú®MySQL5.xÁâàÊú¨‰∏≠ËøòÂåÖÂê´InnoDBÊï∞ÊçÆÂ≠óÂÖ∏„ÄÅundologÁ≠â)</p>
<h4 id="File-Per-Table-Tablespaces"><a href="#File-Per-Table-Tablespaces" class="headerlink" title="File-Per-Table Tablespaces"></a>File-Per-Table Tablespaces</h4><p>Â¶ÇÊûúÂºÄÂêØ‰∫Üinnodb_file_per_tableÂºÄÂÖ≥ ÔºåÂàôÊØè‰∏™Ë°®ÁöÑÊñá‰ª∂Ë°®Á©∫Èó¥ÂåÖÂê´Âçï‰∏™InnoDBË°®ÁöÑÊï∞ÊçÆÂíåÁ¥¢Âºï ÔºåÂπ∂Â≠òÂÇ®Âú®Êñá‰ª∂Á≥ªÁªü‰∏äÁöÑÂçï‰∏™Êï∞ÊçÆÊñá‰ª∂‰∏≠</p>
<h4 id="General-Tablespaces"><a href="#General-Tablespaces" class="headerlink" title="General Tablespaces"></a>General Tablespaces</h4><p><strong>ÈÄöÁî®Ë°®Á©∫Èó¥</strong>ÔºåÈúÄË¶ÅÈÄöËøá CREATE TABLESPACE ËØ≠Ê≥ïÂàõÂª∫ÈÄöÁî®Ë°®Á©∫Èó¥ÔºåÂú®ÂàõÂª∫Ë°®Êó∂ÔºåÂèØ‰ª•ÊåáÂÆöËØ•Ë°®Á©∫Èó¥„ÄÇ</p>
<h4 id="Undo-Tablespaces"><a href="#Undo-Tablespaces" class="headerlink" title="Undo Tablespaces"></a>Undo Tablespaces</h4><p><strong>Êí§ÈîÄË°®Á©∫Èó¥</strong>ÔºåMySQLÂÆû‰æãÂú®ÂàùÂßãÂåñÊó∂‰ºöËá™Âä®ÂàõÂª∫‰∏§‰∏™ÈªòËÆ§ÁöÑundoË°®Á©∫Èó¥ÔºàÂàùÂßãÂ§ßÂ∞è16MÔºâÔºåÁî®‰∫éÂ≠òundo logÊó•Âøó„ÄÇ</p>
<h4 id="Temporary-Tablespaces"><a href="#Temporary-Tablespaces" class="headerlink" title="Temporary Tablespaces"></a>Temporary Tablespaces</h4><p>InnoDB ‰ΩøÁî®‰ºöËØù‰∏¥Êó∂Ë°®Á©∫Èó¥ÂíåÂÖ®Â±Ä‰∏¥Êó∂Ë°®Á©∫Èó¥„ÄÇÂ≠òÂÇ®Áî®Êà∑ÂàõÂª∫ÁöÑ‰∏¥Êó∂Ë°®Á≠âÊï∞ÊçÆ„ÄÇ</p>
<h4 id="Doublewrite-Buffer-Files"><a href="#Doublewrite-Buffer-Files" class="headerlink" title="Doublewrite Buffer Files"></a>Doublewrite Buffer Files</h4><p><strong>ÂèåÂÜôÁºìÂÜ≤Âå∫</strong>ÔºåinnoDBÂºïÊìéÂ∞ÜÊï∞ÊçÆÈ°µ‰ªéBuffer PoolÂà∑Êñ∞Âà∞Á£ÅÁõòÂâçÔºåÂÖàÂ∞ÜÊï∞ÊçÆÈ°µÂÜôÂÖ•ÂèåÂÜôÁºìÂÜ≤Âå∫Êñá‰ª∂‰∏≠Ôºå‰æø‰∫éÁ≥ªÁªüÂºÇÂ∏∏Êó∂ÊÅ¢Â§çÊï∞ÊçÆ</p>
<h4 id="Redo-Log"><a href="#Redo-Log" class="headerlink" title="Redo Log"></a>Redo Log</h4><p><strong>ÈáçÂÅöÊó•Âøó</strong>ÔºåÊòØ<strong>Áî®Êù•ÂÆûÁé∞‰∫ãÂä°ÁöÑÊåÅ‰πÖÊÄß</strong>„ÄÇËØ•Êó•ÂøóÊñá‰ª∂Áî±‰∏§ÈÉ®ÂàÜÁªÑÊàêÔºöÈáçÂÅöÊó•ÂøóÁºìÂÜ≤Ôºàredo log bufferÔºâ‰ª•ÂèäÈáçÂÅöÊó•ÂøóÊñá‰ª∂Ôºàredo logÔºâ,ÂâçËÄÖÊòØÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÂêéËÄÖÂú®Á£ÅÁõò‰∏≠„ÄÇÂΩì‰∫ãÂä°Êèê‰∫§‰πãÂêé‰ºöÊääÊâÄÊúâ‰øÆÊîπ‰ø°ÊÅØÈÉΩ‰ºöÂ≠òÂà∞ËØ•Êó•Âøó‰∏≠, Áî®‰∫éÂú®Âà∑Êñ∞ËÑèÈ°µÂà∞Á£ÅÁõòÊó∂,ÂèëÁîüÈîôËØØÊó∂, ËøõË°åÊï∞ÊçÆÊÅ¢Â§ç‰ΩøÁî®</p>
<h3 id="5-2-4-ÂêéÂè∞Á∫øÁ®ã"><a href="#5-2-4-ÂêéÂè∞Á∫øÁ®ã" class="headerlink" title="5.2.4 ÂêéÂè∞Á∫øÁ®ã"></a>5.2.4 ÂêéÂè∞Á∫øÁ®ã</h3><p>ÂêéÂè∞Á∫øÁ®ãÁöÑ‰ΩúÁî®ÊòØ<strong>Â∞ÜÁºìÂÜ≤Âå∫ÁöÑÊï∞ÊçÆÂÜôÂÖ•Âà∞Á£ÅÁõòÊñá‰ª∂‰∏≠ÁöÑÁ∫øÁ®ã</strong></p>
<p><img src="/img/blogs/java/mysql/5.2.1.png" srcset="/img/loading.gif" lazyload></p>
<p>Âú®InnoDBÁöÑÂêéÂè∞Á∫øÁ®ã‰∏≠ÔºåÂàÜ‰∏∫4Á±ªÔºåÂàÜÂà´ÊòØÔºöMaster Thread „ÄÅIO Thread„ÄÅPurge Thread„ÄÅPage Cleaner Thread</p>
<ol>
<li>Master Thread<br><strong>Ê†∏ÂøÉÂêéÂè∞Á∫øÁ®ãÔºåË¥üË¥£Ë∞ÉÂ∫¶ÂÖ∂‰ªñÁ∫øÁ®ã</strong>ÔºåËøòË¥üË¥£Â∞ÜÁºìÂÜ≤Ê±†‰∏≠ÁöÑÊï∞ÊçÆÂºÇÊ≠•Âà∑Êñ∞Âà∞Á£ÅÁõò‰∏≠, ‰øùÊåÅÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÔºå ËøòÂåÖÊã¨ËÑèÈ°µÁöÑÂà∑Êñ∞„ÄÅÂêàÂπ∂ÊèíÂÖ•ÁºìÂ≠ò„ÄÅundoÈ°µÁöÑÂõûÊî∂ „ÄÇ</li>
<li>IO Thread<br>Âú®InnoDBÂ≠òÂÇ®ÂºïÊìé‰∏≠Â§ßÈáè‰ΩøÁî®‰∫ÜAIOÊù•Â§ÑÁêÜIOËØ∑Ê±Ç, ËøôÊ†∑ÂèØ‰ª•ÊûÅÂ§ßÂú∞ÊèêÈ´òÊï∞ÊçÆÂ∫ìÁöÑÊÄßËÉΩÔºåËÄå<strong>IO Thread‰∏ªË¶ÅË¥üË¥£Ëøô‰∫õIOËØ∑Ê±ÇÁöÑÂõûË∞É</strong>„ÄÇ</li>
<li>Purge Thread<br>‰∏ªË¶ÅÁî®‰∫é<strong>ÂõûÊî∂‰∫ãÂä°Â∑≤ÁªèÊèê‰∫§‰∫ÜÁöÑundo log</strong>ÔºåÂú®‰∫ãÂä°Êèê‰∫§‰πãÂêéÔºåundo logÂèØËÉΩ‰∏çÁî®‰∫ÜÔºåÂ∞±Áî®ÂÆÉÊù•ÂõûÊî∂„ÄÇ</li>
<li>Page Cleaner Thread<br><strong>ÂçèÂä© Master Thread Âà∑Êñ∞ËÑèÈ°µÂà∞Á£ÅÁõòÁöÑÁ∫øÁ®ã</strong>ÔºåÂÆÉÂèØ‰ª•ÂáèËΩª Master Thread ÁöÑÂ∑•‰ΩúÂéãÂäõÔºåÂáèÂ∞ëÈòªÂ°û</li>
</ol>
<h2 id="5-3-‰∫ãÂä°ÂéüÁêÜ"><a href="#5-3-‰∫ãÂä°ÂéüÁêÜ" class="headerlink" title="5.3 ‰∫ãÂä°ÂéüÁêÜ"></a>5.3 ‰∫ãÂä°ÂéüÁêÜ</h2><h3 id="5-3-1-‰∫ãÂä°Âü∫Á°Ä"><a href="#5-3-1-‰∫ãÂä°Âü∫Á°Ä" class="headerlink" title="5.3.1 ‰∫ãÂä°Âü∫Á°Ä"></a>5.3.1 ‰∫ãÂä°Âü∫Á°Ä</h3><p>‰∫ãÂä° ÊòØ‰∏ÄÁªÑÊìç‰ΩúÁöÑÈõÜÂêàÔºåÂÆÉÊòØ‰∏Ä‰∏™‰∏çÂèØÂàÜÂâ≤ÁöÑÂ∑•‰ΩúÂçï‰ΩçÔºå‰∫ãÂä°‰ºöÊääÊâÄÊúâÁöÑÊìç‰Ωú‰Ωú‰∏∫‰∏Ä‰∏™Êï¥‰Ωì‰∏ÄËµ∑ÂêëÁ≥ªÁªüÊèê‰∫§ÊàñÊí§ÈîÄÊìç‰ΩúËØ∑Ê±ÇÔºåÂç≥Ëøô‰∫õÊìç‰ΩúË¶Å‰πàÂêåÊó∂ÊàêÂäüÔºåË¶Å‰πàÂêåÊó∂Â§±Ë¥•</p>
<p><strong>ACID</strong></p>
<ul>
<li>ÂéüÂ≠êÊÄßÔºàAtomicityÔºâÔºö‰∫ãÂä°ÊòØ‰∏çÂèØÂàÜÂâ≤ÁöÑÊúÄÂ∞èÊìç‰ΩúÂçïÂÖÉÔºåË¶Å‰πàÂÖ®ÈÉ®ÊàêÂäüÔºåË¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•„ÄÇ</li>
<li>‰∏ÄËá¥ÊÄßÔºàConsistencyÔºâÔºö‰∫ãÂä°ÂÆåÊàêÊó∂ÔºåÂøÖÈ°ª‰ΩøÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩ‰øùÊåÅ‰∏ÄËá¥Áä∂ÊÄÅ„ÄÇ</li>
<li>ÈöîÁ¶ªÊÄßÔºàIsolationÔºâÔºöÊï∞ÊçÆÂ∫ìÁ≥ªÁªüÊèê‰æõÁöÑÈöîÁ¶ªÊú∫Âà∂Ôºå‰øùËØÅ‰∫ãÂä°Âú®‰∏çÂèóÂ§ñÈÉ®Âπ∂ÂèëÊìç‰ΩúÂΩ±ÂìçÁöÑÁã¨Á´ãÁéØ<br>Â¢É‰∏ãËøêË°å„ÄÇ<br>ÊåÅ‰πÖÊÄßÔºàDurabilityÔºâÔºö‰∫ãÂä°‰∏ÄÊó¶Êèê‰∫§ÊàñÂõûÊªöÔºåÂÆÉÂØπÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÁöÑÊîπÂèòÂ∞±ÊòØÊ∞∏‰πÖÁöÑ</li>
</ul>
<p><img src="/img/blogs/java/mysql/5.3.1.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="5-3-2-redo-log"><a href="#5-3-2-redo-log" class="headerlink" title="5.3.2 redo log"></a>5.3.2 redo log</h3><p><img src="/img/blogs/java/mysql/5.3.2.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>ÈáçÂÅöÊó•Âøó</strong>Ôºå<strong>ËÆ∞ÂΩïÁöÑÊòØ‰∫ãÂä°Êèê‰∫§Êó∂Êï∞ÊçÆÈ°µÁöÑÁâ©ÁêÜ‰øÆÊîπ</strong>ÔºåÊòØ<strong>Áî®Êù•ÂÆûÁé∞‰∫ãÂä°ÁöÑÊåÅ‰πÖÊÄß</strong>„ÄÇ</p>
<p>ËØ•Êó•ÂøóÊñá‰ª∂Áî±‰∏§ÈÉ®ÂàÜÁªÑÊàêÔºö<strong>ÈáçÂÅöÊó•ÂøóÁºìÂÜ≤</strong>Ôºàredo log bufferÔºâ‰ª•Âèä<strong>ÈáçÂÅöÊó•ÂøóÊñá‰ª∂</strong>Ôºàredo log fileÔºâ,<strong>ÂâçËÄÖÊòØÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÂêéËÄÖÂú®Á£ÅÁõò‰∏≠</strong>„ÄÇ<strong>ÂΩì‰∫ãÂä°Êèê‰∫§‰πãÂêé‰ºöÊääÊâÄÊúâ‰øÆÊîπ‰ø°ÊÅØÈÉΩÂ≠òÂà∞ËØ•Êó•ÂøóÊñá‰ª∂‰∏≠</strong>, Áî®‰∫éÂú®<strong>Âà∑Êñ∞ËÑèÈ°µÂà∞Á£ÅÁõò,ÂèëÁîüÈîôËØØÊó∂, ËøõË°åÊï∞ÊçÆÊÅ¢Â§ç‰ΩøÁî®</strong></p>
<h3 id="5-3-3-undo-log"><a href="#5-3-3-undo-log" class="headerlink" title="5.3.3 undo log"></a>5.3.3 undo log</h3><p><strong>ÂõûÊªöÊó•Âøó</strong>Ôºå<strong>Áî®‰∫éËÆ∞ÂΩïÊï∞ÊçÆË¢´‰øÆÊîπÂâçÁöÑ‰ø°ÊÅØ</strong> , ‰ΩúÁî®ÂåÖÂê´‰∏§‰∏™ : <strong>Êèê‰æõÂõûÊªö</strong>(‰øùËØÅ‰∫ãÂä°ÁöÑÂéüÂ≠êÊÄß) Âíå <strong>MVCC</strong>(Â§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂) </p>
<p><strong>undo logÂíåredo logËÆ∞ÂΩïÁâ©ÁêÜÊó•Âøó‰∏ç‰∏ÄÊ†∑ÔºåÂÆÉÊòØÈÄªËæëÊó•Âøó</strong>„ÄÇÂèØ‰ª•ËÆ§‰∏∫ÂΩìdelete‰∏ÄÊù°ËÆ∞ÂΩïÊó∂Ôºåundo log‰∏≠‰ºöËÆ∞ÂΩï‰∏ÄÊù°ÂØπÂ∫îÁöÑinsertËÆ∞ÂΩïÔºåÂèç‰πã‰∫¶ÁÑ∂ÔºåÂΩìupdate‰∏ÄÊù°ËÆ∞ÂΩïÊó∂ÔºåÂÆÉËÆ∞ÂΩï‰∏ÄÊù°ÂØπÂ∫îÁõ∏ÂèçÁöÑupdateËÆ∞ÂΩï„ÄÇÂΩìÊâßË°årollbackÊó∂ÔºåÂ∞±ÂèØ‰ª•<strong>‰ªéundo log‰∏≠ÁöÑÈÄªËæëËÆ∞ÂΩïËØªÂèñÂà∞Áõ∏Â∫îÁöÑÂÜÖÂÆπÂπ∂ËøõË°åÂõûÊªö</strong>„ÄÇ</p>
<ul>
<li>Undo logÈîÄÊØÅÔºöundo logÂú®‰∫ãÂä°ÊâßË°åÊó∂‰∫ßÁîüÔºå‰∫ãÂä°Êèê‰∫§Êó∂ÔºåÂπ∂<strong>‰∏ç‰ºöÁ´ãÂç≥Âà†Èô§undo log</strong>ÔºåÂõ†‰∏∫Ëøô‰∫õÊó•ÂøóÂèØËÉΩËøòÁî®‰∫éMVCC„ÄÇ</li>
<li>Undo logÂ≠òÂÇ®Ôºöundo logÈááÁî®ÊÆµÁöÑÊñπÂºèËøõË°åÁÆ°ÁêÜÂíåËÆ∞ÂΩï</li>
</ul>
<h2 id="5-4-MVCC"><a href="#5-4-MVCC" class="headerlink" title="5.4 MVCC"></a>5.4 MVCC</h2><h3 id="5-4-1-Âü∫Êú¨Ê¶ÇÂøµ"><a href="#5-4-1-Âü∫Êú¨Ê¶ÇÂøµ" class="headerlink" title="5.4.1 Âü∫Êú¨Ê¶ÇÂøµ"></a>5.4.1 Âü∫Êú¨Ê¶ÇÂøµ</h3><h4 id="ÂΩìÂâçËØª"><a href="#ÂΩìÂâçËØª" class="headerlink" title="ÂΩìÂâçËØª"></a>ÂΩìÂâçËØª</h4><p><strong>ËØªÂèñÁöÑÊòØËÆ∞ÂΩïÁöÑÊúÄÊñ∞ÁâàÊú¨</strong>ÔºåËØªÂèñÊó∂ËøòË¶Å‰øùËØÅÂÖ∂‰ªñÂπ∂Âèë‰∫ãÂä°‰∏çËÉΩ‰øÆÊîπÂΩìÂâçËÆ∞ÂΩïÔºå‰ºöÂØπËØªÂèñÁöÑËÆ∞ÂΩïËøõË°åÂä†ÈîÅ„ÄÇÂØπ‰∫éÊàë‰ª¨Êó•Â∏∏ÁöÑÊìç‰ΩúÔºåÂ¶ÇÔºöselect ‚Ä¶ lock in share mode(ÂÖ±‰∫´ÈîÅ)Ôºåselect ‚Ä¶ for update„ÄÅupdate„ÄÅinsert„ÄÅdelete(Êéí‰ªñÈîÅ)ÈÉΩÊòØ‰∏ÄÁßçÂΩìÂâçËØª</p>
<h4 id="Âø´ÁÖßËØª"><a href="#Âø´ÁÖßËØª" class="headerlink" title="Âø´ÁÖßËØª"></a>Âø´ÁÖßËØª</h4><p><strong>ÁÆÄÂçïÁöÑselectÔºà‰∏çÂä†ÈîÅÔºâÂ∞±ÊòØÂø´ÁÖßËØª</strong>Ôºå<strong>Âø´ÁÖßËØªÔºåËØªÂèñÁöÑÊòØËÆ∞ÂΩïÊï∞ÊçÆÁöÑÂèØËßÅÁâàÊú¨</strong>ÔºåÊúâÂèØËÉΩÊòØ<strong>ÂéÜÂè≤Êï∞ÊçÆ</strong>Ôºå‰∏çÂä†ÈîÅÔºåÊòØÈùûÈòªÂ°ûËØª„ÄÇ</p>
<ul>
<li>Read CommittedÔºöÊØèÊ¨°selectÔºåÈÉΩÁîüÊàê‰∏Ä‰∏™Âø´ÁÖßËØª„ÄÇ</li>
<li>Repeatable ReadÔºöÂºÄÂêØ‰∫ãÂä°ÂêéÁ¨¨‰∏Ä‰∏™selectËØ≠Âè•ÊâçÊòØÂø´ÁÖßËØªÁöÑÂú∞Êñπ„ÄÇ</li>
<li>SerializableÔºöÂø´ÁÖßËØª‰ºöÈÄÄÂåñ‰∏∫ÂΩìÂâçËØª</li>
</ul>
<p>Âú®ÂΩìÂâçÈªòËÆ§ÁöÑRRÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºå<strong>ÂºÄÂêØ‰∫ãÂä°ÂêéÁ¨¨‰∏Ä‰∏™selectËØ≠Âè•ÊâçÊòØÂø´ÁÖßËØªÁöÑÂú∞Êñπ</strong>ÔºåÂêéÈù¢ÊâßË°åÁõ∏ÂêåÁöÑselectËØ≠Âè•ÈÉΩÊòØ‰ªéÂø´ÁÖß‰∏≠Ëé∑ÂèñÊï∞ÊçÆÔºåÂèØËÉΩ‰∏çÊòØÂΩìÂâçÁöÑÊúÄÊñ∞Êï∞ÊçÆÔºåËøôÊ†∑‰πüÂ∞±<strong>‰øùËØÅ‰∫ÜÂèØÈáçÂ§çËØª</strong></p>
<h4 id="MVCC"><a href="#MVCC" class="headerlink" title="MVCC"></a>MVCC</h4><p>ÂÖ®Áß∞ Multi-Version Concurrency ControlÔºå<strong>Â§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂</strong>„ÄÇÊåáÁª¥Êä§‰∏Ä‰∏™Êï∞ÊçÆÁöÑÂ§ö‰∏™ÁâàÊú¨Ôºå‰ΩøÂæóËØªÂÜôÊìç‰ΩúÊ≤°ÊúâÂÜ≤Á™ÅÔºåÂø´ÁÖßËØª‰∏∫MySQLÂÆûÁé∞MVCCÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÈùûÈòªÂ°ûËØªÂäüËÉΩ„ÄÇMVCCÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÔºåËøòÈúÄË¶Å‰æùËµñ‰∫éÊï∞ÊçÆÂ∫ìËÆ∞ÂΩï‰∏≠ÁöÑ‰∏â‰∏™ÈöêÂºèÂ≠óÊÆµ„ÄÅundo logÊó•Âøó„ÄÅreadView</p>
<h3 id="5-4-2-ÈöêËóèÂ≠óÊÆµ"><a href="#5-4-2-ÈöêËóèÂ≠óÊÆµ" class="headerlink" title="5.4.2 ÈöêËóèÂ≠óÊÆµ"></a>5.4.2 ÈöêËóèÂ≠óÊÆµ</h3><p><img src="/img/blogs/java/mysql/5.4.1.png" srcset="/img/loading.gif" lazyload></p>
<table>
<thead>
<tr>
<th>ÈöêËóèÂ≠óÊÆµ</th>
<th>Âê´‰πâ</th>
</tr>
</thead>
<tbody><tr>
<td>DB_TRX_ID</td>
<td><strong>ÊúÄËøë‰øÆÊîπ‰∫ãÂä°ID</strong>ÔºåËÆ∞ÂΩïÊèíÂÖ•ËøôÊù°ËÆ∞ÂΩïÊàñÊúÄÂêé‰∏ÄÊ¨°‰øÆÊîπËØ•ËÆ∞ÂΩïÁöÑ‰∫ãÂä°ID„ÄÇ</td>
</tr>
<tr>
<td>DB_ROLL_PTR</td>
<td><strong>ÂõûÊªöÊåáÈíà</strong>ÔºåÊåáÂêëËøôÊù°ËÆ∞ÂΩïÁöÑ‰∏ä‰∏Ä‰∏™ÁâàÊú¨ÔºåÁî®‰∫éÈÖçÂêàundo logÔºåÊåáÂêë‰∏ä‰∏Ä‰∏™ÁâàÊú¨„ÄÇ</td>
</tr>
<tr>
<td>DB_ROW_ID</td>
<td><strong>ÈöêËóè‰∏ªÈîÆ</strong>ÔºåÂ¶ÇÊûúË°®ÁªìÊûÑÊ≤°ÊúâÊåáÂÆö‰∏ªÈîÆÔºåÂ∞Ü‰ºöÁîüÊàêËØ•ÈöêËóèÂ≠óÊÆµ„ÄÇ</td>
</tr>
</tbody></table>
<h3 id="5-4-3-undo-log"><a href="#5-4-3-undo-log" class="headerlink" title="5.4.3 undo log"></a>5.4.3 undo log</h3><p><strong>ÂõûÊªöÊó•Âøó</strong>ÔºåÂú®insert„ÄÅupdate„ÄÅdeleteÁöÑÊó∂ÂÄô‰∫ßÁîüÁöÑ<strong>‰æø‰∫éÊï∞ÊçÆÂõûÊªöÁöÑÊó•Âøó</strong>„ÄÇ</p>
<ul>
<li>ÂΩìinsertÁöÑÊó∂ÂÄôÔºå‰∫ßÁîüÁöÑundo logÊó•ÂøóÂè™Âú®ÂõûÊªöÊó∂ÈúÄË¶ÅÔºåÂú®‰∫ãÂä°Êèê‰∫§ÂêéÔºåÂèØË¢´Á´ãÂç≥Âà†Èô§„ÄÇ</li>
<li>ËÄåupdate„ÄÅdeleteÁöÑÊó∂ÂÄôÔºå‰∫ßÁîüÁöÑundo logÊó•Âøó‰∏ç‰ªÖÂú®ÂõûÊªöÊó∂ÈúÄË¶ÅÔºåÂú®Âø´ÁÖßËØªÊó∂‰πüÈúÄË¶ÅÔºå‰∏ç‰ºöÁ´ãÂç≥Ë¢´Âà†Èô§</li>
</ul>
<p><img src="/img/blogs/java/mysql/5.4.2.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>‰∏çÂêå‰∫ãÂä°ÊàñÁõ∏Âêå‰∫ãÂä°ÂØπÂêå‰∏ÄÊù°ËÆ∞ÂΩïËøõË°å‰øÆÊîπÔºå‰ºöÂØºËá¥ËØ•ËÆ∞ÂΩïÁöÑundologÁîüÊàê‰∏ÄÊù°ËÆ∞ÂΩïÁâàÊú¨ÈìæË°®ÔºåÈìæË°®ÁöÑÂ§¥ÈÉ®ÊòØÊúÄÊñ∞ÁöÑÊóßËÆ∞ÂΩïÔºåÈìæË°®Â∞æÈÉ®ÊòØÊúÄÊó©ÁöÑÊóßËÆ∞ÂΩï</strong></p>
<h3 id="5-4-4-readview"><a href="#5-4-4-readview" class="headerlink" title="5.4.4 readview"></a>5.4.4 readview</h3><p>ReadViewÔºàËØªËßÜÂõæÔºâÊòØ Âø´ÁÖßËØª SQLÊâßË°åÊó∂MVCCÊèêÂèñÊï∞ÊçÆÁöÑ‰æùÊçÆÔºå<strong>ËÆ∞ÂΩïÂπ∂Áª¥Êä§Á≥ªÁªüÂΩìÂâçÊ¥ªË∑ÉÁöÑ‰∫ãÂä°</strong>ÔºàÊú™Êèê‰∫§ÁöÑÔºâid</p>
<p>ÂåÖÂê´‰∫ÜÂõõ‰∏™Ê†∏ÂøÉÂ≠óÊÆµÔºö</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµ</th>
<th>Âê´‰πâ</th>
</tr>
</thead>
<tbody><tr>
<td>m_ids</td>
<td>ÂΩìÂâçÊ¥ªË∑ÉÁöÑ‰∫ãÂä°IDÈõÜÂêà</td>
</tr>
<tr>
<td>min_trx_id</td>
<td><strong>ÊúÄÂ∞èÊ¥ªË∑É</strong>‰∫ãÂä°ID</td>
</tr>
<tr>
<td>max_trx_id</td>
<td>È¢ÑÂàÜÈÖç‰∫ãÂä°IDÔºàÂΩìÂâç<strong>ÊúÄÂ§ß‰∫ãÂä°ID+1</strong>Ôºâ</td>
</tr>
<tr>
<td>creator_trx_id</td>
<td>ReadViewÂàõÂª∫ËÄÖÁöÑ‰∫ãÂä°ID</td>
</tr>
</tbody></table>
<p><img src="/img/blogs/java/mysql/5.4.3.png" srcset="/img/loading.gif" lazyload></p>
<p>ÂÖ∑‰ΩìÂà§Êñ≠ÈÄªËæëÂ§ßËá¥ÊòØÔºö</p>
<ul>
<li>Â¶ÇÊûúË°åÁöÑtrx_id &lt; min_trx_idÔºåËØ¥ÊòéËøô‰∏™ÁâàÊú¨Âú®ÂΩìÂâç‰∫ãÂä°ÂºÄÂßãÂâçÂ∞±Êèê‰∫§‰∫Ü ‚Üí ÂèØËßÅ ‚úÖ„ÄÇ</li>
<li>Â¶ÇÊûúË°åÁöÑtrx_idÂú®Ê¥ªË∑É‰∫ãÂä°ÂàóË°®‰∏≠ÔºåËØ¥ÊòéËøô‰∏™ÁâàÊú¨ÊòØÊú™Êèê‰∫§ÁöÑ ‚Üí ‰∏çÂèØËßÅ ‚ùå„ÄÇ</li>
<li>Â¶ÇÊûúË°åÁöÑtrx_id &gt; max_trx_idÔºåËØ¥ÊòéËøô‰∏™ÁâàÊú¨Êù•Ëá™Êú™Êù•‰∫ãÂä° ‚Üí ‰∏çÂèØËßÅ ‚ùå„ÄÇ</li>
</ul>
<p>‰∏çÂêåÁöÑÈöîÁ¶ªÁ∫ßÂà´ÔºåÁîüÊàêReadViewÁöÑÊó∂Êú∫‰∏çÂêåÔºö</p>
<ul>
<li>READ COMMITTED ÔºöÂú®‰∫ãÂä°‰∏≠ÊØè‰∏ÄÊ¨°ÊâßË°åÂø´ÁÖßËØªÊó∂ÁîüÊàêReadView„ÄÇ</li>
<li>REPEATABLE READÔºö‰ªÖÂú®‰∫ãÂä°‰∏≠Á¨¨‰∏ÄÊ¨°ÊâßË°åÂø´ÁÖßËØªÊó∂ÁîüÊàêReadViewÔºå<strong>ÂêéÁª≠Â§çÁî®ËØ•ReadView</strong>Ôºå<strong>‰ªéËÄå‰øùËØÅÂèØÈáçÂ§çËØª</strong></li>
</ul>
<h3 id="5-4-5-ÂéüÁêÜÂàÜÊûê"><a href="#5-4-5-ÂéüÁêÜÂàÜÊûê" class="headerlink" title="5.4.5 ÂéüÁêÜÂàÜÊûê"></a>5.4.5 ÂéüÁêÜÂàÜÊûê</h3><p>Âú®MVCCÔºàÂ§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂Ôºâ‰∏≠ÔºåReadView ‰∏ªË¶ÅÁöÑ‰ΩúÁî®ÊòØÔºö<br><strong>Á°ÆÂÆöÂΩìÂâç‰∫ãÂä°Âú®ÂèØÈáçÂ§çËØªÂø´ÁÖß‰∏ãÔºåÂ∫îËØ•‚ÄúÁúãÂà∞‚ÄùÂì™‰∫õË°åÁâàÊú¨„ÄÇÈÅøÂÖçËØªÂà∞ÂÖ∂‰ªñ‰∫ãÂä°Êú™Êèê‰∫§ÊàñÂàöÊèê‰∫§ÁöÑÊï∞ÊçÆ„ÄÇ</strong></p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">‰∫ãÂä°ÂºÄÂßã ‚Üí ÂàõÂª∫ReadView  <br>|<span class="hljs-string"></span><br><span class="hljs-string"></span>|<span class="hljs-string">‚Üí Êü•ËØ¢Êó∂ÔºåÈÅçÂéÜËÆ∞ÂΩïÁâàÊú¨Èìæ</span><br><span class="hljs-string"></span>|<span class="hljs-string">   </span>|<br>|<span class="hljs-string">   </span>|<span class="hljs-string">‚Üí Âà§Êñ≠ÁâàÊú¨trx_idÊòØÂê¶Á¨¶ÂêàReadView</span><br><span class="hljs-string"></span>|<span class="hljs-string">   </span>|<span class="hljs-string">   </span>|<br>|<span class="hljs-string">   </span>|<span class="hljs-string">   </span>|<span class="hljs-string">‚Üí ‰∏çÁ¨¶ÂêàÔºåÁªßÁª≠Ê≤ø undo log ÂêëÂâçÊâæÁâàÊú¨</span><br><span class="hljs-string"></span>|<span class="hljs-string">   </span>|<span class="hljs-string">   </span>|<span class="hljs-string">‚Üí Á¨¶ÂêàÔºåËøîÂõûÊï∞ÊçÆ</span><br><span class="hljs-string"></span>|<br>‰∫ãÂä°Êèê‰∫§ ‚Üí ‰∏çÈúÄË¶ÅÊõ¥Êñ∞ReadView<br></code></pre></td></tr></table></figure>


<p><img src="/img/blogs/java/mysql/5.4.4.png" srcset="/img/loading.gif" lazyload></p>
<h1 id="END"><a href="#END" class="headerlink" title="END"></a>END</h1>
                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/JAVA/" class="category-chain-item">JAVA</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%AD%A6%E4%B9%A0/" class="print-no-link">#Â≠¶‰π†</a>
      
        <a href="/tags/JAVA/" class="print-no-link">#JAVA</a>
      
        <a href="/tags/MySQL/" class="print-no-link">#MySQL</a>
      
    </div>
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/05/09/Algorithm/Hot100/" title="LeetcodeHOT100Âà∑È¢òÁ¨îËÆ∞">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">LeetcodeHOT100Âà∑È¢òÁ¨îËÆ∞</span>
                        <span class="visible-mobile">‰∏ä‰∏ÄÁØá</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/04/12/JAVA/JVM/" title="JVMÂ≠¶‰π†Á¨îËÆ∞">
                        <span class="hidden-mobile">JVMÂ≠¶‰π†Á¨îËÆ∞</span>
                        <span class="visible-mobile">‰∏ã‰∏ÄÁØá</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"sj2tGuxMGSDhkN5hNuOIVta1-gzGzoHsz","appKey":"ysR5OTuTzoby2oNvNyGOtXFQ","path":"window.location.pathname","placeholder":"Â¶ÇÊúâÈóÆÈ¢òÔºåÊ¨¢ËøéÊåáÊ≠£~","avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ÁõÆÂΩï</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">ÊêúÁ¥¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">ÂÖ≥ÈîÆËØç</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <span>AI</span> <i class="iconfont icon-love"></i> <span>CPP</span> <i class="iconfont icon-love"></i> <span>JAVA</span> <i class="iconfont icon-love"></i> <span>CyberSec</span> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        ÊÄªËÆøÈóÆÈáè 
        <span id="busuanzi_value_site_pv"></span>
         Ê¨°
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        ÊÄªËÆøÂÆ¢Êï∞ 
        <span id="busuanzi_value_site_uv"></span>
         ‰∫∫
      </span>
    
    

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/love.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/xiaoxingxing.js"></script>
<script src="/js/bubble.js"></script>



<!-- ‰∏ªÈ¢òÁöÑÂêØÂä®È°πÔºåÂ∞ÜÂÆÉ‰øùÊåÅÂú®ÊúÄÂ∫ïÈÉ® -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">ÂçöÂÆ¢Âú®ÂÖÅËÆ∏ JavaScript ËøêË°åÁöÑÁéØÂ¢É‰∏ãÊµèËßàÊïàÊûúÊõ¥‰Ω≥</div>
  </noscript>
<!-- hexo injector body_end start --><script src="/js/backgroundize.js"></script><!-- hexo injector body_end end --></body>
</html>
